$schema: https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json
name: Infinity Engine Weidu
scopeName: source.tp2.weidu

patterns:
  - include: '#comments'
  - include: '#inlined-d'
  - include: '#inlined-baf'
  - include: '#function-invocation'
  - include: '#macro-invocation'
  - include: '#function-declaration'
  - include: '#weidu-vars'
  - include: '#strings'
  - include: '#weidu-tp2-file'
  - include: '#weidu-tp2-flag'
  - include: '#weidu-tp2-language'
  - include: '#weidu-tp2-component-flag'
  - include: '#weidu-tp2-action'
  - include: '#weidu-tp2-optglob'
  - include: '#weidu-tp2-optcase'
  - include: '#weidu-tp2-optexact'
  - include: '#weidu-tp2-arrarindicessorttype'
  - include: '#weidu-tp2-patch'
  - include: '#weidu-tp2-macro'
  - include: '#weidu-tp2-patch-controls'
  - include: '#weidu-tp2-when'
  - include: '#weidu-tp2-values'
  - include: '#weidu-keywords'
  - include: '#weidu-tp2-action-flow'
  - include: '#numbers'
  - include: '#infinity-constants'
  - include: '#weidu-tp2-value-operators'
  - include: '#vars-declaration'
  - include: '#ielib'
  - include: '#numbers'


repository:
  comments:
    patterns:
      - match: (//).*
        name: comment.line.weidu
      - begin: /\*
        end: \*/
        name: comment.block.weidu

  weidu-tp2-file:
    name: keyword.other.weidu
    patterns:
      - match: \b(BACKUP)\b
      - match: \b(AUTHOR|SUPPORT)\b

  weidu-tp2-flag:
    name: keyword.other.weidu
    patterns:
      - match: \b(AUTO_TRA)\b
      - match: \b(ALLOW_MISSING)\b
      - match: \b(ASK_EVERY_COMPONENT)\b
      - match: \b(ALWAYS)\b
        name: keyword.control.weidu
      - match: \b(README)\b
      - match: \b(UNINSTALL_ORDER)\b
      - match: \b(MODDER)\b
      - match: \b(VERSION)\b
      - match: \b(SCRIPT_STYLE)\b
      - match: \b(NO_IF_EVAL_BUG)\b
      - match: \b(QUICK_MENU)\b
      - match: \b(AUTO_EVAL_STRINGS)\b

  weidu-tp2-language:
    name: keyword.other.weidu
    patterns:
      - match: \b(LANGUAGE)\b

  weidu-tp2-component-flag:
    name: keyword.other.weidu
    patterns:
      - match: \b(DEPRECATED)\b
      - match: \b(REQUIRE_COMPONENT)\b
      - match: \b(FORBID_COMPONENT)\b
      - match: \b(REQUIRE_PREDICATE)\b
      - match: \b(SUBCOMPONENT)\b
      - match: \b(FORCED_SUBCOMPONENT)\b
      - match: \b(GROUP)\b
      - match: \b(INSTALL_BY_DEFAULT)\b
      - match: \b(DESIGNATED)\b
      - match: \b(NO_LOG_RECORD)\b
      - match: \b(LABEL)\b

  weidu-tp2-action:
    name: support.function.weidu
    patterns:
      - match: \b(COPY)\b
      - match: \b(COPY_EXISTING)\b
      - match: \b(COPY_EXISTING_REGEXP)\b
      - match: \b(COPY_LARGE)\b
      - match: \b(COPY_RANDOM)\b
      - match: \b(COPY_ALL_GAM_FILES)\b
      - match: \b(MOVE)\b
      - match: \b(DELETE)\b
      - match: \b(DISABLE_FROM_KEY)\b
      - match: \b(CREATE)\b
      - match: \b(COMPILE)\b
      - match: \b(CLEAR_MEMORY)\b
      - match: \b(CLEAR_ARRAYS)\b
      - match: \b(CLEAR_CODES)\b
      - match: \b(CLEAR_INLINED)\b
      - match: \b(CLEAR_EVERYTHING)\b
      - match: \b(CLEAR_IDS_MAP)\b
      - match: \b(ACTION_CLEAR_ARRAY)\b
      - match: \b(SILENT)\b
      - match: \b(VERBOSE)\b
      - match: \b(MKDIR)\b
      - match: \b(RANDOM_SEED)\b
      - match: \b(ACTION_READLN)\b
      - match: \b(APPEND)\b
      - match: \b(APPEND_OUTER)\b
      - match: \b(APPEND_COL)\b
      - match: \b(APPEND_COL_OUTER)\b
      - match: \b(EXTEND_TOP)\b
      - match: \b(EXTEND_BOTTOM)\b
      - match: \b(EXTEND_TOP_REGEXP)\b
      - match: \b(EXTEND_BOTTOM_REGEXP)\b
      - match: \b(MAKE_BIFF)\b
      - match: \b(LOAD_TRA)\b
      - match: \b(WITH_TRA)\b
      - match: \b(WITH_SCOPE)\b
      - match: \b(UNINSTALL)\b
      - match: \b(COPY_KIT)\b
      - match: \b(ADD_KIT)\b
      - match: \b(ADD_MUSIC)\b
      - match: \b(ADD_SCHOOL)\b
      - match: \b(ADD_SECTYPE)\b
      - match: \b(ADD_AREA_TYPE)\b
      - match: \b(ADD_PROJECTILE)\b
      - match: \b(ADD_SPELL)\b
      - match: \b(ADD_JOURNAL)\b
      - match: \b(STRING_SET)\b
      - match: \b(STRING_SET_EVALUATE)\b
      - match: \b(STRING_SET_RANGE)\b
      - match: \b(ALTER_TLK_RANGE)\b
      - match: \b(ALTER_TLK_LIST)\b
      - match: \b(ALTER_TLK)\b
      - match: \b(REQUIRE_FILE)\b
      - match: \b(FORBID_FILE)\b
      - match: \b(FAIL)\b
      - match: \b(ABORT)\b
      - match: \b(WARN)\b
      - match: \b(PRINT)\b
      - match: \b(LOG)\b
      - match: \b(OUTER_TEXT_SPRINT)\b
      - match: \b(OUTER_SPRINT)\b
      - match: \b(OUTER_SNPRINT)\b
      - match: \b(OUTER_SET)\b
      - match: \b(OUTER_INNER_PATCH)\b
      - match: \b(OUTER_PATCH)\b
      - match: \b(OUTER_INNER_PATCH_SAVE)\b
      - match: \b(OUTER_PATCH_SAVE)\b
      - match: \b(OUTER_WHILE)\b
      - match: \b(OUTER_FOR)\b
      - match: \b(ACTION_BASH_FOR)\b
      - match: \b(ACTION_DEFINE_ARRAY)\b
      - match: \b(ACTION_SORT_ARRAY_INDICES)\b
      - match: \b(GET_FILE_ARRAY)\b
      - match: \b(GET_DIRECTORY_ARRAY)\b
      - match: \b(ACTION_DEFINE_ASSOCIATIVE_ARRAY)\b
      - match: \b(ACTION_TO_UPPER)\b
      - match: \b(ACTION_TO_LOWER)\b
      - match: \b(ACTION_GET_STRREF)\b
      - match: \b(ACTION_GET_STRREF_F)\b
      - match: \b(ACTION_GET_STRREF_S)\b
      - match: \b(ACTION_GET_STRREF_FS)\b
      - match: \b(DECOMPRESS_BIFF)\b
      - match: \b(DEFINE_ACTION_MACRO)\b
      - match: \b(DEFINE_PATCH_MACRO)\b
      - match: \b(DEFINE_ACTION_FUNCTION)\b
      - match: \b(DEFINE_PATCH_FUNCTION)\b
      - match: \b(ACTION_TIME)\b

  weidu-tp2-action-flow:
    name: keyword.control.action.weidu
    patterns:
      - match: \b(ACTION_IF)\b
      - match: \b(ACTION_MATCH)\b
      - match: \b(ACTION_TRY)\b
      - match: \b(ACTION_RERAISE)\b
      - match: \b(AT_EXIT)\b
      - match: \b(AT_INTERACTIVE_EXIT)\b
      - match: \b(AT_UNINSTALL)\b
      - match: \b(AT_INTERACTIVE_UNINSTALL)\b
      - match: \b(AT_UNINSTALL_EXIT)\b
      - match: \b(AT_INTERACTIVE_UNINSTALL_EXIT)\b
      - match: \b(AT_NOW)\b
      - match: \b(AT_INTERACTIVE_NOW)\b
      - match: \b(ACTION_FOR_EACH)\b
      - match: \b(ACTION_PHP_EACH)\b
      - match: \b(INCLUDE)\b
      - match: \b(ACTION_INCLUDE)\b
      - match: \b(REINCLUDE)\b
      - match: \b(ACTION_REINCLUDE)\b
      - match: \b(USING)\b
      - match: \b(AS)\b

  weidu-tp2-optglob:
    name: constant.language.flag.weidu
    patterns:
      - match: \b(GLOB)\b
      - match: \b(NOGLOB)\b

  weidu-tp2-optcase:
    name: constant.language.flag.weidu
    patterns:
      - match: \b(CASE_SENSITIVE)\b
      - match: \b(CASE_INSENSITIVE)\b

  weidu-tp2-optexact:
    name: constant.language.flag.weidu
    patterns:
      - match: \b(EXACT_MATCH)\b
      - match: \b(EVALUATE_REGEXP)\b

  weidu-tp2-arrarindicessorttype:
    name: constant.language.flag.weidu
    patterns:
      - match: \b(LEXICOGRAPHICALLY)\b
      - match: \b(NUMERICALLY)\b

  weidu-tp2-patch:
    name: support.function.tp2.weidu
    patterns:
      - match: \b(SAY)\b
      - match: \b(PATCH_FAIL)\b
      - match: \b(PATCH_ABORT)\b
      - match: \b(PATCH_WARN)\b
      - match: \b(PATCH_PRINT)\b
      - match: \b(PATCH_LOG)\b
      - match: \b(SAY_EVALUATED)\b
      - match: \b(TO_UPPER)\b
      - match: \b(TO_LOWER)\b
      - match: \b(TEXT_SPRINT)\b
      - match: \b(SPRINT)\b
      - match: \b(SNPRINT)\b
      - match: \b(SPRINTF)\b
      - match: \b(SOURCE_BIFF)\b
      - match: \b(SPACES)\b
      - match: \b(QUOTE)\b
      - match: \b(REPLACE)\b
      - match: \b(REPLACE_TEXTUALLY)\b
      - match: \b(EVALUATE_BUFFER_SPECIAL)\b
      - match: \b(EVALUATE_BUFFER)\b
      - match: \b(EVAL)\b
      - match: \b(APPLY_BCS_PATCH)\b
      - match: \b(APPLY_BCS_PATCH_OR_COPY)\b
      - match: \b(WRITE_BYTE)\b
      - match: \b(WRITE_SHORT)\b
      - match: \b(WRITE_LONG)\b
      - match: \b(WRITE_ASCII)\b
      - match: \b(WRITE_ASCII_LIST)\b
      - match: \b(WRITE_ASCII_TERMINATE)\b
      - match: \b(WRITE_ASCIIT)\b
      - match: \b(WRITE_EVALUATED_ASCII)\b
      - match: \b(WRITE_ASCIIE)\b
      - match: \b(WRITE_FILE)\b
      - match: \b(INSERT_FILE)\b
      - match: \b(APPEND_FILE)\b
      - match: \b(APPEND_FILE_EVALUATE)\b
      - match: \b(REPLACE_BCS_BLOCK)\b
      - match: \b(R_B_B)\b
      - match: \b(INSERT_BYTES)\b
      - match: \b(DELETE_BYTES)\b
      - match: \b(READ_BYTE)\b
      - match: \b(READ_SBYTE)\b
      - match: \b(READ_SHORT)\b
      - match: \b(READ_SSHORT)\b
      - match: \b(READ_LONG)\b
      - match: \b(READ_SLONG)\b
      - match: \b(READ_ASCII)\b
      - match: \b(READ_STRREF)\b
      - match: \b(READ_STRREF_F)\b
      - match: \b(READ_STRREF_S)\b
      - match: \b(READ_STRREF_FS)\b
      - match: \b(GET_OFFSET_ARRAY)\b
      - match: \b(GET_OFFSET_ARRAY2)\b
      - match: \b(DEFINE_ASSOCIATIVE_ARRAY)\b
      - match: \b(GET_STRREF)\b
      - match: \b(GET_STRREF_F)\b
      - match: \b(GET_STRREF_S)\b
      - match: \b(GET_STRREF_FS)\b
      - match: \b(DEFINE_ARRAY)\b
      - match: \b(PATCH_DEFINE_ARRAY)\b
      - match: \b(SORT_ARRAY_INDICES)\b
      - match: \b(CLEAR_ARRAY)\b
      - match: \b(PATCH_CLEAR_ARRAY)\b
      - match: \b(PATCH_RERAISE)\b
      - match: \b(PATCH_INCLUDE)\b
      - match: \b(PATCH_REINCLUDE)\b
      - match: \b(PATCH_WITH_TRA)\b
      - match: \b(PATCH_WITH_SCOPE)\b
      - match: \b(SET_2DA_ENTRY)\b
      - match: \b(SET_2DA_ENTRY_LATER)\b
      - match: \b(SET_2DA_ENTRIES_NOW)\b
      - match: \b(PRETTY_PRINT_2DA)\b
      - match: \b(INSERT_2DA_ROW)\b
      - match: \b(REMOVE_2DA_ROW)\b
      - match: \b(PATCH_READLN)\b
      - match: \b(PATCH_RANDOM_SEED)\b
      - match: \b(ADD_STORE_ITEM)\b
      - match: \b(REMOVE_STORE_ITEM)\b
      - match: \b(READ_2DA_ENTRY)\b
      - match: \b(READ_2DA_ENTRIES_NOW)\b
      - match: \b(READ_2DA_ENTRY_FORMER)\b
      - match: \b(COUNT_2DA_ROWS)\b
      - match: \b(COUNT_2DA_COLS)\b
      - match: \b(COUNT_REGEXP_INSTANCES)\b
      - match: \b(LOOKUP_IDS_SYMBOL_OF_INT)\b
      - match: \b(COMPILE_BAF_TO_BCS)\b
      - match: \b(DECOMPILE_BCS_TO_BAF)\b
      - match: \b(DECOMPILE_DLG_TO_D)\b
      - match: \b(COMPILE_D_TO_DLG)\b
      - match: \b(DECOMPILE_AND_PATCH)\b
      - match: \b(REFACTOR_TRIGGER)\b
      - match: \b(REFACTOR_BAF_TRIGGER)\b
      - match: \b(REFACTOR_D_TRIGGER)\b
      - match: \b(REPLACE_EVALUATE)\b
      - match: \b(ADD_GAM_NPC)\b
      - match: \b(ADD_MAP_NOTE)\b
      - match: \b(ADD_KNOWN_SPELL)\b
      - match: \b(ADD_MEMORIZED_SPELL)\b
      - match: \b(REMOVE_KNOWN_SPELL)\b
      - match: \b(REMOVE_MEMORIZED_SPELL)\b
      - match: \b(SET_BG2_PROFICIENCY)\b
      - match: \b(ADD_CRE_ITEM)\b
      - match: \b(REPLACE_CRE_ITEM)\b
      - match: \b(REMOVE_CRE_ITEM)\b
      - match: \b(REMOVE_CRE_ITEMS)\b
      - match: \b(REMOVE_CRE_EFFECTS)\b
      - match: \b(REMOVE_KNOWN_SPELLS)\b
      - match: \b(REMOVE_MEMORIZED_SPELLS)\b
      - match: \b(PATCH_SILENT)\b
      - match: \b(EDIT_SAV_FILE)\b
      - match: \b(DECOMPRESS_REPLACE_FILE)\b
      - match: \b(DECOMPRESS_INTO_FILE)\b
      - match: \b(DECOMPRESS_INTO_VAR)\b
      - match: \b(COMPRESS_REPLACE_FILE)\b
      - match: \b(COMPRESS_INTO_FILE)\b
      - match: \b(COMPRESS_INTO_VAR)\b

  weidu-tp2-macro:
    name: support.function.tp2.weidu
    patterns:
      - match: \b(ADD_ITEM_EQEFFECT)\b
      - match: \b(ADD_ITEM_EFFECT)\b
      - match: \b(ALTER_ITEM_EFFECT)\b
      - match: \b(ALTER_ITEM_HEADER)\b
      - match: \b(DELETE_ITEM_HEADER)\b
      - match: \b(DELETE_ITEM_EFFECT)\b
      - match: \b(DELETE_ITEM_EQEFFECT)\b
      - match: \b(ADD_SPELL_CFEFFECT)\b
      - match: \b(ADD_SPELL_EFFECT)\b
      - match: \b(ALTER_SPELL_EFFECT)\b
      - match: \b(ALTER_SPELL_HEADER)\b
      - match: \b(DELETE_SPELL_EFFECT)\b
      - match: \b(DELETE_SPELL_HEADER)\b
      - match: \b(DELETE_EFFECT)\b
      - match: \b(ALTER_EFFECT)\b
      - match: \b(CLONE_EFFECT)\b
      - match: \b(DELETE_CRE_EFFECT)\b
      - match: \b(ADD_CRE_EFFECT)\b
      - match: \b(ITEM_EFFECT_TO_SPELL)\b
      - match: \b(RES_NUM_OF_SPELL_NAME)\b
      - match: \b(RES_NAME_OF_SPELL_NUM)\b
      - match: \b(NAME_NUM_OF_SPELL_RES)\b
      - match: \b(GET_UNIQUE_FILE_NAME)\b
      - match: \b(ALTER_AREA_DOOR)\b
      - match: \b(REPLACE_STORE_ITEM)\b
      - match: \b(REPLACE_AREA_ITEM)\b
      - match: \b(ADD_AREA_ITEM)\b
      - match: \b(ADD_AREA_REGION_TRIGGER)\b
      - match: \b(ALTER_AREA_ACTOR)\b
      - match: \b(ALTER_AREA_REGION)\b
      - match: \b(ALTER_AREA_CONTAINER)\b
      - match: \b(ADD_CRE_ITEM_FLAGS)\b
      - match: \b(REMOVE_CRE_ITEM_FLAGS)\b
      - match: \b(SET_CRE_ITEM_FLAGS)\b
      - match: \b(ALTER_AREA_ENTRANCE)\b
      - match: \b(WRITE_SOUNDSET)\b
      - match: \b(READ_SOUNDSET)\b
      - match: \b(tb#factorial)\b
      - match: \b(tb#fix_file_size)\b
      - match: \b(FJ_CRE_VALIDITY)\b
      - match: \b(FJ_CRE_REINDEX)\b
      - match: \b(FJ_CRE_EFF_V2)\b
      - match: \b(T-CRE_EFF_V1)\b
      - match: \b(SUBSTRING)\b
      - match: \b(ADD_CRE_SCRIPT)\b
      - match: \b(DELETE_WORLDMAP_LINKS)\b
      - match: \b(ADD_WORLDMAP_LINKS)\b
      - match: \b(UPDATE_PVRZ_INDICES)\b
      - match: \b(INSTALL_PVRZ)\b
      - match: \b(FIND_FREE_PVRZ_INDEX)\b
      - match: \b(DIRECTORY_OF_FILESPEC)\b
      - match: \b(FILE_OF_FILESPEC)\b
      - match: \b(RES_OF_FILESPEC)\b
      - match: \b(EXT_OF_FILESPEC)\b
      - match: \b(fj_are_structure)\b
      - match: \b(sc#addWmpAre)\b
      - match: \b(HANDLE_AUDIO)\b
      - match: \b(HANDLE_TILESETS)\b
      - match: \b(HANDLE_CHARSETS)\b

  weidu-tp2-patch-controls:
    name: keyword.control.patch.weidu
    patterns:
      - match: \b(SET)\b
      - match: \b(WHILE)\b
      - match: \b(FOR)\b
      - match: \b(PATCH_BASH_FOR)\b
      - match: \b(PATCH_FOR_EACH)\b
      - match: \b(PHP_EACH)\b
      - match: \b(PATCH_PHP_EACH)\b
      - match: \b(PATCH_IF)\b
      - match: \b(ELSE)\b
      - match: \b(PATCH_MATCH)\b
      - match: \b(PATCH_TRY)\b
      - match: \b(PATCH_SILENT)\b
      - match: \b(PATCH_VERBOSE)\b
      - match: \b(INNER_PATCH)\b
      - match: \b(INNER_PATCH_SAVE)\b
      - match: \b(INNER_PATCH_FILE)\b
      - match: \b(INNER_ACTION)\b
      - match: \b(PATCH_TIME)\b

  weidu-tp2-when:
    name: keyword.control.when.weidu
    patterns:
      - match: \b(IF_SIZE_IS)\b
      - match: \b(I_S_I)\b
      - match: \b(IF)\b
      - match: \b(UNLESS)\b
      - match: \b(BUT_ONLY_IF_IT_CHANGES)\b
      - match: \b(BUT_ONLY)\b
      - match: \b(IF_EXISTS)\b

  weidu-tp2-value-operators:
    name: keyword.control.value.weidu
    patterns:
      - match: (\=\>|\+|-|\*|\/|=|\*|!|>|<|\?|:)
      - match: \b(MODULO|NOT|OR|AND|BAND|BOR|BXOR|BNOT|BLSL|BASR)\b

  weidu-tp2-values:
    name: support.function.tp2value.weidu
    patterns:
      - match: \b(BYTE_AT)\b
      - match: \b(SBYTE_AT)\b
      - match: \b(SHORT_AT)\b
      - match: \b(SSHORT_AT)\b
      - match: \b(LONG_AT)\b
      - match: \b(SLONG_AT)\b
      - match: \b(STRING_COMPARE)\b
      - match: \b(STRING_COMPARE_CASE)\b
      - match: \b(STRING_EQUAL)\b
      - match: \b(STRING_EQUAL_CASE)\b
      - match: \b(STR_EQ)\b
      - match: \b(STRING_MATCHES_REGEXP)\b
      - match: \b(STRING_CONTAINS_REGEXP)\b
      - match: \b(GAME_IS)\b
      - match: \b(ENGINE_IS)\b
      - match: \b(GAME_INCLUDES)\b
      - match: \b(IDS_OF_SYMBOL)\b
      - match: \b(VARIABLE_IS_SET)\b
      - match: \b(IS_AN_INT)\b
      - match: \b(TRA_ENTRY_EXISTS)\b
      - match: \b(IS_SILENT)\b
      - match: \b(MOD_IS_INSTALLED)\b
      - match: \b(INSTALL_ORDER)\b
      - match: \b(ID_OF_LABEL)\b
      - match: \b(STATE_WHICH_SAYS)\b
      - match: \b(RESOLVE_STR_REF)\b
      - match: \b(NEXT_STRREF)\b
      - match: \b(RANDOM)\b
      - match: \b(BUFFER_LENGTH)\b
      - match: \b(INDEX)\b
      - match: \b(RINDEX)\b
      - match: \b(INDEX_BUFFER)\b
      - match: \b(RINDEX_BUFFER)\b
      - match: \b(STRING_LENGTH)\b
      - match: \b(FILE_CONTAINS)\b
      - match: \b(FILE_CONTAINS_EVALUATED)\b
      - match: \b(FILE_EXISTS)\b
      - match: \b(DIRECTORY_EXISTS)\b
      - match: \b(FILE_EXISTS_IN_GAME)\b
      - match: \b(FILE_MD5)\b
      - match: \b(FILE_IS_IN_COMPRESSED_BIFF)\b
      - match: \b(BIFF_IS_COMPRESSED)\b
      - match: \b(FILE_SIZE)\b
      - match: \b(SIZE_OF_FILE)\b
      - match: \b(VALID_SCRIPT_ACTIONS)\b
      - match: \b(VALID_SCRIPT_TRIGGERS)\b
      - match: \b(EVALUATE_BUFFER)\b
      - match: \b(WEIDU_ARCH)\b
      - match: \b(WEIDU_OS)\b
      - match: \b(COMPONENT_NUMBER)\b
      - match: \b(INTERACTIVE)\b

  weidu-keywords:
    name: keyword.control.weidu
    patterns:
      - match: \b(BEGIN|END|THEN|IN|ELSE)\b
      - match: \b(AFTER|BEFORE|LAST|FIRST|AT|THIS)\b
      - match: \b(INT_VAR|STR_VAR|RET|RET_ARRAY)\b

  strings:
    patterns:
      - name: string.quoted.double.weidu
        begin: '"'
        end: '"'
        patterns:
          - include: '#non-weidu-vars'
      - name: string.quoted.5tildes.weidu
        begin: ~~~~~
        end: ~~~~~
        patterns:
          - include: '#non-weidu-vars'
      - match: \s(@)([0-9]+)\s
        captures:
          '1':
            name: variable.parameter.tra.weidu
          '2':
            name: variable.parameter.tra.weidu

      - name: string.quoted.tilde.weidu
        begin: '~'
        end: '~'
        patterns:
          - include: '#non-weidu-vars'

  weidu-vars:
    name: constant.language.weidu
    patterns:
      - match: (%?TP2_AUTHOR%?)
      - match: (%?TP2_FILE_NAME%?)
      - match: (%?MOD_FOLDER%?)
      - match: (%LANGUAGE%)
      - match: (%?SOURCE_DIRECTORY%?)
      - match: (%?SOURCE_FILESPEC%?)
      - match: (%?SOURCE_FILE%?)
      - match: (%?SOURCE_RES%?)
      - match: (%?SOURCE_EXT%?)
      - match: (%?DEST_DIRECTORY%?)
      - match: (%?DEST_FILESPEC%?)
      - match: (%?DEST_FILE%?)
      - match: (%?DEST_RES%?)
      - match: (%?DEST_EXT%?)
      - match: (%?SOURCE_SIZE%?)

      - match: (%?BASH_FOR_DIRECTORY%?)
      - match: (%?BASH_FOR_FILESPEC%?)
      - match: (%?BASH_FOR_FILE%?)
      - match: (%?BASH_FOR_RES%?)
      - match: (%?BASH_FOR_EXT%?)
      - match: (%?BASH_FOR_SIZE%?)

      - match: (%?ARE_V10_ACTORS%?)
      - match: (%?ARE_V10_REGIONS%?)
      - match: (%?ARE_V10_SPAWN_POINTS%?)
      - match: (%?ARE_V10_ENTRANCES%?)
      - match: (%?ARE_V10_CONTAINERS%?)
      - match: (%?ARE_V10_AMBIENTS%?)
      - match: (%?ARE_V10_DOORS%?)
      - match: (%?ARE_V10_ANIMATIONS%?)
      - match: (%?ARE_V91_ACTORS%?)
      - match: (%?CRE_V10_KNOWN_SPELLS%?)
      - match: (%?CRE_V10_SPELL_MEM_INFO%?)
      - match: (%?CRE_V10_EFFECTS%?)
      - match: (%?CRE_V10_ITEMS%?)
      - match: (%?ITM_V10_HEADERS%?)
      - match: (%?ITM_V10_GEN_EFFECTS%?)
      - match: (%?SPL_V10_HEADERS%?)
      - match: (%?SPL_V10_GEN_EFFECTS%?)
      - match: (%?STO_V10_ITEMS_PURCHASED%?)
      - match: (%?STO_V10_ITEMS_SOLD%?)
      - match: (%?STO_V10_DRINKS%?)
      - match: (%?STO_V10_CURES%?)
      - match: (%?WMP_AREAS%?)
      - match: (%?WMP_LINKS%?)

      - match: (%?ARE_V10_ITEMS%?)
      - match: (%?ARE_V10_REGION_VERTICES%?)
      - match: (%?ARE_V10_CONTAINER_VERTICES%?)
      - match: (%?ARE_V10_DOOR_OPEN_OUTLINE_VERTICES%?)
      - match: (%?ARE_V10_DOOR_CLOSED_OUTLINE_VERTICES%?)
      - match: (%?ARE_V10_DOOR_OPEN_CELL_VERTICES%?)
      - match: (%?ARE_V10_DOOR_CLOSED_CELL_VERTICES%?)
      - match: (%?CRE_V10_SPELL_MEM%?)
      - match: (%?ITM_V10_HEAD_EFFECTS%?)
      - match: (%?SPL_V10_HEAD_EFFECTS%?)
      - match: (%?WMP_NORTH_LINKS%?)
      - match: (%?WMP_WEST_LINKS%?)
      - match: (%?WMP_SOUTH_LINKS%?)
      - match: (%?WMP_EAST_LINKS%?)

  non-weidu-vars:
    name: variable.parameter.weidu
    patterns:
      - include: '#weidu-vars'
      - include: '#ielib'
      - match: (%)((\w*)(%\w+%)(\w*))(%)
        captures:
          '1':
            name: keyword.control.double-eval.weidu
          '3':
            name: keyword.control.double-eval.weidu
          '5':
            name: keyword.control.double-eval.weidu
          '6':
            name: keyword.control.double-eval.weidu
      - match: (%\w+%)

  numbers:
    patterns:
      - match: \b(([0-9]+)|(0x[0-9a-fA-F]+)|(0b[0-1]+))\b
        name: constant.numeric.weidu
      - match: \s(#?[0-9]+)\b
        name: constant.numeric.weidu

  macro-invocation:
    name: meta.macro.invocation.weidu
    begin: \b(LAM|LAUNCH_ACTION_MACRO|LPM|LAUNCH_PATCH_MACRO)\b
    end: ((\w+)|(\S+))
    beginCaptures:
      '1':
        name: keyword.control.weidu
    endCaptures:
      '2':
        name: entity.name.function
      '3':
        name: name.function.weidu
        patterns:
          - include: '#strings'

  function-invocation:
    name: meta.function.invocation.weidu
    begin: \b(LAF|LAUNCH_ACTION_FUNCTION|LPF|LAUNCH_PATCH_FUNCTION)\b
    end: ((\w+)|(\S+))
    beginCaptures:
      '1':
        name: keyword.control.weidu
    endCaptures:
      '2':
        name: entity.name.function
      '3':
        name: name.function.weidu
        patterns:
          - include: '#strings'

  function-declaration:
    name: meta.function.declaration.weidu
    begin: \b(DEFINE_ACTION_FUNCTION|DEFINE_PATCH_FUNCTION)\s+(~)?(\w+)(~)?
    end: \b(BEGIN)\b
    beginCaptures:
      '1':
        name: keyword.control.weidu
      '2':
        name: keyword.control.weidu
      '3':
        name: entity.name.function
      '4':
        name: keyword.control.weidu
    endCaptures:
      '1':
        name: keyword.control.weidu
    patterns:
      - match: \b(STR_VAR|INT_VAR|RET|RET_ARRAY)\b
        name: keyword.control.weidu
      - include: '#vars-declaration'
      - include: '#comments'
      - include: '#numbers'
      - include: '#strings'


  vars-declaration:
    name: variable.complex.weidu
    patterns:
      - match: \b([\w]+)\s*(=)\s*(EVAL\s+)?
        captures:
          '1':
            name: variable.parameter.weidu
          '2':
            name: keyword.control.weidu
          '3':
            name: support.function.tp2.weidu

  infinity-constants:
    name: constant.language.infinity.weidu
    patterns:
      - match: \b(NAME1)\b
      - match: \b(NAME2)\b
      - match: \b(DESC)\b
      - match: \b(UNIDENTIFIED_DESC)\b

      - match: \b(AREA_CITY)\b
      - match: \b(AREA_DAY)\b
      - match: \b(AREA_DUNGEON)\b
      - match: \b(AREA_FOREST)\b
      - match: \b(AREA_NIGHT)\b
      - match: \b(ATTACK1)\b
      - match: \b(ATTACK2)\b
      - match: \b(ATTACK3)\b
      - match: \b(ATTACK4)\b
      - match: \b(ATTACK)\b
      - match: \b(BATTLE_CRY1)\b
      - match: \b(BATTLE_CRY2)\b
      - match: \b(BATTLE_CRY3)\b
      - match: \b(BATTLE_CRY4)\b
      - match: \b(BATTLE_CRY5)\b
      - match: \b(BATTLE_CRY)\b
      - match: \b(BIO)\b
      - match: \b(BORED)\b
      - match: \b(COMPLIMENT1)\b
      - match: \b(COMPLIMENT2)\b
      - match: \b(COMPLIMENT3)\b
      - match: \b(COMPLIMENT)\b
      - match: \b(CRITICAL_HIT)\b
      - match: \b(CRITICAL_MISS)\b
      - match: \b(DAMAGE)\b
      - match: \b(DIALOG_DEFAULT)\b
      - match: \b(DIALOG_HOSTILE)\b
      - match: \b(DYING)\b
      - match: \b(EXISTANCE1)\b
      - match: \b(EXISTANCE2)\b
      - match: \b(EXISTANCE3)\b
      - match: \b(EXISTANCE4)\b
      - match: \b(EXISTANCE5)\b
      - match: \b(HAPPY)\b
      - match: \b(HIDDEN_IN_SHADOWS)\b
      - match: \b(HURT)\b
      - match: \b(INITIAL_MEETING)\b
      - match: \b(INSULT1)\b
      - match: \b(INSULT2)\b
      - match: \b(INSULT3)\b
      - match: \b(INSULT)\b
      - match: \b(INTERACTION1)\b
      - match: \b(INTERACTION2)\b
      - match: \b(INTERACTION3)\b
      - match: \b(INTERACTION4)\b
      - match: \b(INTERACTION5)\b
      - match: \b(INTERACTION)\b
      - match: \b(INVENTORY_FULL)\b
      - match: \b(LEADER)\b
      - match: \b(MISCELLANEOUS)\b
      - match: \b(MORALE)\b
      - match: \b(PICKED_POCKET)\b
      - match: \b(REACT_TO_DIE_GENERAL)\b
      - match: \b(REACT_TO_DIE_SPECIFIC)\b
      - match: \b(RESPONSE_TO_COMPLIMENT1)\b
      - match: \b(RESPONSE_TO_COMPLIMENT2)\b
      - match: \b(RESPONSE_TO_COMPLIMENT3)\b
      - match: \b(RESPONSE_TO_COMPLIMENT)\b
      - match: \b(RESPONSE_TO_INSULT1)\b
      - match: \b(RESPONSE_TO_INSULT2)\b
      - match: \b(RESPONSE_TO_INSULT3)\b
      - match: \b(RESPONSE_TO_INSULT)\b
      - match: \b(SELECT_ACTION1)\b
      - match: \b(SELECT_ACTION2)\b
      - match: \b(SELECT_ACTION3)\b
      - match: \b(SELECT_ACTION4)\b
      - match: \b(SELECT_ACTION5)\b
      - match: \b(SELECT_ACTION6)\b
      - match: \b(SELECT_ACTION7)\b
      - match: \b(SELECT_ACTION)\b
      - match: \b(SELECT_COMMON1)\b
      - match: \b(SELECT_COMMON2)\b
      - match: \b(SELECT_COMMON3)\b
      - match: \b(SELECT_COMMON4)\b
      - match: \b(SELECT_COMMON5)\b
      - match: \b(SELECT_COMMON6)\b
      - match: \b(SELECT_COMMON)\b
      - match: \b(SELECT_RARE1)\b
      - match: \b(SELECT_RARE2)\b
      - match: \b(SELECT_RARE)\b
      - match: \b(SET_A_TRAP)\b
      - match: \b(SPECIAL1)\b
      - match: \b(SPECIAL2)\b
      - match: \b(SPECIAL3)\b
      - match: \b(SPECIAL)\b
      - match: \b(SPELL_DISRUPTED)\b
      - match: \b(TARGET_IMMUNE)\b
      - match: \b(TIRED)\b
      - match: \b(UNHAPPY_ANNOYED)\b
      - match: \b(UNHAPPY_BREAKING)\b
      - match: \b(UNHAPPY_SERIOUS)\b
      - match: \b(STORE_NAME)\b

      - match: \b(SCRIPT_OVERRIDE)\b
      - match: \b(SCRIPT_CLASS)\b
      - match: \b(SCRIPT_RACE)\b
      - match: \b(SCRIPT_GENERAL)\b
      - match: \b(SCRIPT_DEFAULT)\b
      - match: \b(DEATHVAR)\b
      - match: \b(DIALOG)\b
      - match: \b(AREA_SCRIPT)\b

      - match: \b(BIT0)\b
      - match: \b(BIT1)\b
      - match: \b(BIT2)\b
      - match: \b(BIT3)\b
      - match: \b(BIT4)\b
      - match: \b(BIT5)\b
      - match: \b(BIT6)\b
      - match: \b(BIT7)\b
      - match: \b(BIT8)\b
      - match: \b(BIT9)\b
      - match: \b(BIT10)\b
      - match: \b(BIT11)\b
      - match: \b(BIT12)\b
      - match: \b(BIT13)\b
      - match: \b(BIT14)\b
      - match: \b(BIT15)\b
      - match: \b(BIT16)\b
      - match: \b(BIT17)\b
      - match: \b(BIT18)\b
      - match: \b(BIT19)\b
      - match: \b(BIT20)\b
      - match: \b(BIT21)\b
      - match: \b(BIT22)\b
      - match: \b(BIT23)\b
      - match: \b(BIT24)\b
      - match: \b(BIT25)\b
      - match: \b(BIT26)\b
      - match: \b(BIT27)\b
      - match: \b(BIT28)\b
      - match: \b(BIT29)\b
      - match: \b(BIT30)\b
      - match: \b(BIT31)\b

      - match: \b(WNL)\b
      - match: \b(MNL)\b
      - match: \b(LNL)\b
      - match: \b(TAB)\b

      - match: \b(REGISTRY_BG1_PATH)\b
      - match: \b(REGISTRY_BG2_PATH)\b
      - match: \b(REGISTRY_PST_PATH)\b
      - match: \b(REGISTRY_IWD1_PATH)\b
      - match: \b(REGISTRY_IWD2_PATH)\b

      - match: \b(USER_DIRECTORY)\b
      - match: \b(SAVE_DIRECTORY)\b
      - match: \b(MPSAVE_DIRECTORY)\b
      - match: \b(EE_LANGUAGE)\b

  inlined-d:
    name: meta.weidu.inlined.d
    begin: (<<<<<<<<)\s+(\S+\.d)\b
    beginCaptures:
      '1':
        name: keyword.other.weidu
      '2':
        name: variable.language.inlined-file.weidu
    end: (>>>>>>>>)
    endCaptures:
      '1':
        name: keyword.other.weidu
    patterns:
      - include: source.d.weidu

  inlined-baf:
    name: meta.weidu.inlined.baf
    begin: (<<<<<<<<)\s+(\S+\.baf)\b
    beginCaptures:
      '1':
        name: keyword.other.weidu
      '2':
        name: variable.language.inlined-file.weidu
    end: (>>>>>>>>)
    endCaptures:
      '1':
        name: keyword.other.weidu
    patterns:
      - include: source.baf.weidu

  ielib:
    name: constant.language.ielib.weidu
    patterns:
      - match: (%?ABAZIGAL_SHOCKWAVE%?)
      - match: (%?ACID_DAMAGE_1%?)
      - match: (%?AERIE_DISPEL_MAGIC%?)
      - match: (%?AERIE_PORTRAIT%?)
      - match: (%?AIR_ELEMENTAL_EFFECT%?)
      - match: (%?ANATH_WEREWOLF%?)
      - match: (%?ANATH_WEREWOLF2%?)
      - match: (%?ANOMEN_TITLE%?)
      - match: (%?ANTI_MAGIC_ZONE%?)
      - match: (%?APPLY_NON_PERMANENT_DEATH%?)
      - match: (%?APPRENTI_DEATH%?)
      - match: (%?ARCHER_CALL_SHOT%?)
      - match: (%?ARCHER_KIT_BONUS%?)
      - match: (%?ARCHER_PROTECTION%?)
      - match: (%?ASSASSIN_POISON%?)
      - match: (%?AURA_OF_DESPAIR%?)
      - match: (%?AVENGER_SHAPESHIFT_BABYWYVERN%?)
      - match: (%?AVENGER_SHAPESHIFT_FIRESALAMANDER%?)
      - match: (%?AVENGER_SHAPESHIFT_NATURAL_FORM%?)
      - match: (%?AVENGER_SHAPESHIFT_SWORDSPIDER%?)
      - match: (%?BALOR_FIRE_SHIELD%?)
      - match: (%?BANSHEE_WAIL%?)
      - match: (%?BARBARIAN_RAGE%?)
      - match: (%?BARD_SONG_BALLAD%?)
      - match: (%?BARD_SONG_CURRAN%?)
      - match: (%?BARD_SONG_KAUDIES%?)
      - match: (%?BARD_SONG_SIREN%?)
      - match: (%?BARD_SONG_SITH%?)
      - match: (%?BARD_SONG_TYMORA%?)
      - match: (%?BEASTMASTER_FIND_FAMILIAR%?)
      - match: (%?BEHOLDER_AGANNAZAR_SCORCHER%?)
      - match: (%?BEHOLDER_ANTIMAGIC_RAY%?)
      - match: (%?BEHOLDER_BLAST_VISUAL%?)
      - match: (%?BEHOLDER_BLAST_VISUAL2%?)
      - match: (%?BEHOLDER_CAUSE_SERIOUS_WOUNDS%?)
      - match: (%?BEHOLDER_CHARM_PERSON%?)
      - match: (%?BEHOLDER_DEATH_RAY%?)
      - match: (%?BEHOLDER_DISINTEGRATE%?)
      - match: (%?BEHOLDER_DOMINATION%?)
      - match: (%?BEHOLDER_FEAR%?)
      - match: (%?BEHOLDER_FINGER_OF_DEATH%?)
      - match: (%?BEHOLDER_FLESH_TO_STONE%?)
      - match: (%?BEHOLDER_GAS_SPORE%?)
      - match: (%?BEHOLDER_HOLD_PERSON%?)
      - match: (%?BEHOLDER_LIGHTNING_BOLT%?)
      - match: (%?BEHOLDER_MAGIC_MISSILE%?)
      - match: (%?BEHOLDER_PARALYZATION%?)
      - match: (%?BEHOLDER_PARALYZATION_RAY%?)
      - match: (%?BEHOLDER_SLOW%?)
      - match: (%?BEHOLDER_SPELL_TURNING%?)
      - match: (%?BERSERKER_RAGE%?)
      - match: (%?BLACKGUARD_ABSORB_HEALTH%?)
      - match: (%?BLACKGUARD_ANIMATE_DEAD%?)
      - match: (%?BLACKGUARD_AURA_OF_DESPAIR%?)
      - match: (%?BLACKGUARD_SUMMON_FALLEN_DEVA%?)
      - match: (%?BLACK_DRAGON_BREATH%?)
      - match: (%?BLACK_DRAGON_INSECT%?)
      - match: (%?BLACK_DRAGON_PLANT%?)
      - match: (%?BLADE_DEFENSIVE_SPIN%?)
      - match: (%?BLADE_OFFENSIVE_SPIN%?)
      - match: (%?BLUE_DRAGON_BREATH%?)
      - match: (%?BODHI_BAT_ASYLUM%?)
      - match: (%?BODHI_MIST_FORM_CHANGE%?)
      - match: (%?BODVAM01_MIST_CHANGE%?)
      - match: (%?BODVAM02_MIST_CHANGE%?)
      - match: (%?BOMBARDIER_BEETLE_CLOUD%?)
      - match: (%?BOOK_BEHOLD%?)
      - match: (%?BOOK_GOLEM%?)
      - match: (%?BOOK_KOBOLD%?)
      - match: (%?BOOK_MIND%?)
      - match: (%?BOOK_SPIDER%?)
      - match: (%?BOOK_UMBER%?)
      - match: (%?BRAIN_PSIONIC_BLAST%?)
      - match: (%?BROWN_DRAGON_BREATH%?)
      - match: (%?BURNING_MAN_CINDER_SHOWER%?)
      - match: (%?BURNING_MAN_KEENING%?)
      - match: (%?BYPASS_DEFLECTION%?)
      - match: (%?C6BODHI_WEAKNESS%?)
      - match: (%?C6VAMPIRE_WEAKNESS%?)
      - match: (%?CAVALIER_REMOVE_FEAR%?)
      - match: (%?CELESTIAL_BOLT%?)
      - match: (%?CERND_BEAR%?)
      - match: (%?CERND_CERND%?)
      - match: (%?CHARM_HERO%?)
      - match: (%?CHARM_KORAX%?)
      - match: (%?CHICKEN_CHANGE%?)
      - match: (%?CHROMATIC_DEMON_GREEN%?)
      - match: (%?CHROMATIC_DEMON_RED%?)
      - match: (%?CHROMATIC_DEMON_WHITE%?)
      - match: (%?CHROMATIC_DEMON_YELLOW%?)
      - match: (%?CLERIC_AERIAL_SERVANT%?)
      - match: (%?CLERIC_AID%?)
      - match: (%?CLERIC_ALICORN_LANCE%?)
      - match: (%?CLERIC_ANIMAL_FRIENDSHIP%?)
      - match: (%?CLERIC_ANIMAL_RAGE%?)
      - match: (%?CLERIC_ANIMAL_SUMMONING_1%?)
      - match: (%?CLERIC_ANIMAL_SUMMONING_2%?)
      - match: (%?CLERIC_ANIMAL_SUMMONING_3%?)
      - match: (%?CLERIC_ANIMATE_DEAD%?)
      - match: (%?CLERIC_ARMOR_OF_FAITH%?)
      - match: (%?CLERIC_AURA_OF_FLAMING_DEATH%?)
      - match: (%?CLERIC_BARKSKIN%?)
      - match: (%?CLERIC_BEAST_CLAW%?)
      - match: (%?CLERIC_BLADE_BARRIER%?)
      - match: (%?CLERIC_BLESS%?)
      - match: (%?CLERIC_BLOOD_RAGE%?)
      - match: (%?CLERIC_BOLT_OF_GLORY%?)
      - match: (%?CLERIC_CALL_LIGHTNING%?)
      - match: (%?CLERIC_CALL_WOODLAND_BEINGS%?)
      - match: (%?CLERIC_CAUSE_CRITICAL_WOUNDS%?)
      - match: (%?CLERIC_CAUSE_DISEASE%?)
      - match: (%?CLERIC_CAUSE_LIGHT_WOUNDS%?)
      - match: (%?CLERIC_CAUSE_MEDIUM_WOUNDS%?)
      - match: (%?CLERIC_CAUSE_MODERATE_WOUNDS%?)
      - match: (%?CLERIC_CAUSE_SERIOUS_WOUNDS%?)
      - match: (%?CLERIC_CHAMPIONS_STRENGTH%?)
      - match: (%?CLERIC_CHANT%?)
      - match: (%?CLERIC_CHAOTIC_COMMANDS%?)
      - match: (%?CLERIC_CHARM_PERSON%?)
      - match: (%?CLERIC_CIRCLE_OF_BONES%?)
      - match: (%?CLERIC_CIRCLE_OF_PROTECTION%?)
      - match: (%?CLERIC_CLOAK_OF_FEAR%?)
      - match: (%?CLERIC_CLOUDBURST%?)
      - match: (%?CLERIC_CLOUD_OF_PESTILENCE%?)
      - match: (%?CLERIC_COMMAND%?)
      - match: (%?CLERIC_CONFUSION%?)
      - match: (%?CLERIC_CONJURE_ANIMALS%?)
      - match: (%?CLERIC_CONJURE_EARTH_ELEMENTAL%?)
      - match: (%?CLERIC_CONJURE_FIRE_ELEMENTAL%?)
      - match: (%?CLERIC_CREEPING_DOOM%?)
      - match: (%?CLERIC_CURE_CRITICAL_WOUNDS%?)
      - match: (%?CLERIC_CURE_DISEASE%?)
      - match: (%?CLERIC_CURE_LIGHT_WOUNDS%?)
      - match: (%?CLERIC_CURE_MEDIUM_WOUNDS%?)
      - match: (%?CLERIC_CURE_MODERATE_WOUNDS%?)
      - match: (%?CLERIC_CURE_SERIOUS_WOUNDS%?)
      - match: (%?CLERIC_CURSE%?)
      - match: (%?CLERIC_DEATH_WARD%?)
      - match: (%?CLERIC_DEFENSIVE_HARMONY%?)
      - match: (%?CLERIC_DESTRUCTION%?)
      - match: (%?CLERIC_DETECT_EVIL%?)
      - match: (%?CLERIC_DISPEL_MAGIC%?)
      - match: (%?CLERIC_DOLOROUS_DECAY%?)
      - match: (%?CLERIC_DOOM%?)
      - match: (%?CLERIC_DRAW_UPON_HOLY_MIGHT%?)
      - match: (%?CLERIC_EARTHQUAKE%?)
      - match: (%?CLERIC_ELEMENTAL_SWARM%?)
      - match: (%?CLERIC_ELEMENTAL_TRANSFORMATION_EARTH%?)
      - match: (%?CLERIC_ELEMENTAL_TRANSFORMATION_FIRE%?)
      - match: (%?CLERIC_ENDURE_HEAT_COLD%?)
      - match: (%?CLERIC_ENERGY_BLADES%?)
      - match: (%?CLERIC_ENERGY_DRAIN%?)
      - match: (%?CLERIC_ENTANGLE%?)
      - match: (%?CLERIC_ENTROPY_SHIELD%?)
      - match: (%?CLERIC_ETHEREAL_RETRIBUTION%?)
      - match: (%?CLERIC_ETHER_GATE%?)
      - match: (%?CLERIC_EXALTATION%?)
      - match: (%?CLERIC_FAERIE_FIRE%?)
      - match: (%?CLERIC_FALSE_DAWN%?)
      - match: (%?CLERIC_FAR_SIGHT%?)
      - match: (%?CLERIC_FAVOR_OF_ILMATER%?)
      - match: (%?CLERIC_FIND_TRAPS%?)
      - match: (%?CLERIC_FINGER_OF_DEATH%?)
      - match: (%?CLERIC_FIRE_SEEDS%?)
      - match: (%?CLERIC_FIRE_STORM%?)
      - match: (%?CLERIC_FLAME_BLADE%?)
      - match: (%?CLERIC_FLAME_STRIKE%?)
      - match: (%?CLERIC_FREE_ACTION%?)
      - match: (%?CLERIC_GATE%?)
      - match: (%?CLERIC_GIANT_INSECT%?)
      - match: (%?CLERIC_GLOBE_OF_BLADES%?)
      - match: (%?CLERIC_GLYPH_OF_WARDING%?)
      - match: (%?CLERIC_GOODBERRY%?)
      - match: (%?CLERIC_GOOD_BERRIES%?)
      - match: (%?CLERIC_GREATER_COMMAND%?)
      - match: (%?CLERIC_GREATER_ELEMENTAL_SWARM%?)
      - match: (%?CLERIC_GREATER_SHIELD_OF_LATHANDER%?)
      - match: (%?CLERIC_HARM%?)
      - match: (%?CLERIC_HEAL%?)
      - match: (%?CLERIC_HEAVENLY_INFERNO%?)
      - match: (%?CLERIC_HOLD_ANIMAL%?)
      - match: (%?CLERIC_HOLD_PERSON%?)
      - match: (%?CLERIC_HOLY_POWER%?)
      - match: (%?CLERIC_HOLY_SMITE%?)
      - match: (%?CLERIC_HOLY_WORD%?)
      - match: (%?CLERIC_IMPERVIOUS_SANCTITY_OF_MIND%?)
      - match: (%?CLERIC_IMPLOSION%?)
      - match: (%?CLERIC_INSECT_PLAGUE%?)
      - match: (%?CLERIC_INVISIBILITY_PURGE%?)
      - match: (%?CLERIC_IRONSKIN%?)
      - match: (%?CLERIC_KNOW_ALIGNMENT%?)
      - match: (%?CLERIC_LESSER_RESTORATION%?)
      - match: (%?CLERIC_MAGIC_RESISTANCE%?)
      - match: (%?CLERIC_MAGIC_STONE%?)
      - match: (%?CLERIC_MASS_CAUSE_LIGHT_WOUNDS%?)
      - match: (%?CLERIC_MASS_CURE%?)
      - match: (%?CLERIC_MASS_RAISE_DEAD%?)
      - match: (%?CLERIC_MENTAL_DOMINATION%?)
      - match: (%?CLERIC_MISCAST_MAGIC%?)
      - match: (%?CLERIC_MIST_OF_ELDATH%?)
      - match: (%?CLERIC_MOLD_TOUCH%?)
      - match: (%?CLERIC_MOONBLADE%?)
      - match: (%?CLERIC_NATURE_BEAUTY%?)
      - match: (%?CLERIC_NEGATIVE_PLANE_PROTECTION%?)
      - match: (%?CLERIC_NEUTRALIZE_POISON%?)
      - match: (%?CLERIC_PHYSICAL_MIRROR%?)
      - match: (%?CLERIC_PIXIE_DUST%?)
      - match: (%?CLERIC_POISON%?)
      - match: (%?CLERIC_PRAYER%?)
      - match: (%?CLERIC_PRODUCE_FIRE%?)
      - match: (%?CLERIC_PROTECTION_FROM_EVIL_10_FOOT%?)
      - match: (%?CLERIC_PROTECTION_FROM_FIRE%?)
      - match: (%?CLERIC_PROTECTION_FROM_LIGHTNING%?)
      - match: (%?CLERIC_PROTECT_FROM_EVIL%?)
      - match: (%?CLERIC_PROTECT_FROM_GOOD%?)
      - match: (%?CLERIC_RAISE_DEAD%?)
      - match: (%?CLERIC_RECALL_SPIRIT%?)
      - match: (%?CLERIC_RECITATION%?)
      - match: (%?CLERIC_REGENERATE%?)
      - match: (%?CLERIC_REMOVE_CURSE%?)
      - match: (%?CLERIC_REMOVE_FEAR%?)
      - match: (%?CLERIC_REMOVE_PARALYSIS%?)
      - match: (%?CLERIC_REPULSE_UNDEAD%?)
      - match: (%?CLERIC_RESIST_COLD%?)
      - match: (%?CLERIC_RESIST_FIRE%?)
      - match: (%?CLERIC_RESIST_FIRE_AND_COLD%?)
      - match: (%?CLERIC_RESTORATION%?)
      - match: (%?CLERIC_RESURRECTION%?)
      - match: (%?CLERIC_RIGHTEOUS_MAGIC%?)
      - match: (%?CLERIC_RIGHTEOUS_WRATH_OF_THE_FAITHFUL%?)
      - match: (%?CLERIC_RIGID_THINKING%?)
      - match: (%?CLERIC_SANCTUARY%?)
      - match: (%?CLERIC_SHIELD_OF_LATHANDER%?)
      - match: (%?CLERIC_SHIELD_OF_THE_ARCHONS%?)
      - match: (%?CLERIC_SHILLELAGH%?)
      - match: (%?CLERIC_SILENCE_15_FOOT%?)
      - match: (%?CLERIC_SLAY_LIVING%?)
      - match: (%?CLERIC_SLOW_POISON%?)
      - match: (%?CLERIC_SMASHING_WAVE%?)
      - match: (%?CLERIC_SOL_SEARING_ORB%?)
      - match: (%?CLERIC_SPIKE_GROWTH%?)
      - match: (%?CLERIC_SPIKE_STONES%?)
      - match: (%?CLERIC_SPIRITUAL_CLARITY%?)
      - match: (%?CLERIC_SPIRITUAL_HAMMER%?)
      - match: (%?CLERIC_SPIRITUAL_LOCK%?)
      - match: (%?CLERIC_SPIRITUAL_WRATH%?)
      - match: (%?CLERIC_SPIRIT_FIRE%?)
      - match: (%?CLERIC_SPIRIT_WARD%?)
      - match: (%?CLERIC_STALKER%?)
      - match: (%?CLERIC_STAR_METAL_CUDGEL%?)
      - match: (%?CLERIC_STATIC_CHARGE%?)
      - match: (%?CLERIC_STORM_OF_VENGEANCE%?)
      - match: (%?CLERIC_STORM_SHELL%?)
      - match: (%?CLERIC_STRENGTH_OF_ONE%?)
      - match: (%?CLERIC_SUMMON_DEVA%?)
      - match: (%?CLERIC_SUMMON_FALLEN_DEVA%?)
      - match: (%?CLERIC_SUMMON_INSECTS%?)
      - match: (%?CLERIC_SUMMON_LIZARDMEN%?)
      - match: (%?CLERIC_SUMMON_TROLLS%?)
      - match: (%?CLERIC_SUNRAY%?)
      - match: (%?CLERIC_SUNSCORCH%?)
      - match: (%?CLERIC_SYMBOL_DEATH%?)
      - match: (%?CLERIC_SYMBOL_FEAR%?)
      - match: (%?CLERIC_SYMBOL_OF_HOPELESSNESS%?)
      - match: (%?CLERIC_SYMBOL_OF_PAIN%?)
      - match: (%?CLERIC_SYMBOL_STUN%?)
      - match: (%?CLERIC_THORN_SPRAY%?)
      - match: (%?CLERIC_TRUE_SIGHT%?)
      - match: (%?CLERIC_UNDEAD_WARD%?)
      - match: (%?CLERIC_UNFAILING_ENDURANCE%?)
      - match: (%?CLERIC_UNHOLY_BLIGHT%?)
      - match: (%?CLERIC_UNHOLY_WORD%?)
      - match: (%?CLERIC_WALL_OF_MOONLIGHT%?)
      - match: (%?CLERIC_WHIRLWIND%?)
      - match: (%?CLERIC_WITHER%?)
      - match: (%?CLERIC_WONDROUS_RECALL%?)
      - match: (%?CLERIC_WRITHING_FOG%?)
      - match: (%?CLERIC_ZONE_OF_SWEET_AIR%?)
      - match: (%?CONFUSION_NO_SAVE%?)
      - match: (%?CONTINGENCY_MIRROR_IMAGE%?)
      - match: (%?COVER_FULL%?)
      - match: (%?COVER_PARTIAL%?)
      - match: (%?CREATE_YOSHIMO_BLADE%?)
      - match: (%?CRE_THAC0%?)
      - match: (%?CRE_XP_power_level%?)
      - match: (%?CRE_XP_value%?)
      - match: (%?CRE_acid_resistance%?)
      - match: (%?CRE_alignment%?)
      - match: (%?CRE_allegiance%?)
      - match: (%?CRE_animation%?)
      - match: (%?CRE_armor_color%?)
      - match: (%?CRE_attacks_per_round%?)
      - match: (%?CRE_axe_proficiency%?)
      - match: (%?CRE_blunt_proficiency%?)
      - match: (%?CRE_bow_proficiency%?)
      - match: (%?CRE_charisma%?)
      - match: (%?CRE_class%?)
      - match: (%?CRE_cold_resistance%?)
      - match: (%?CRE_constitution%?)
      - match: (%?CRE_crushing_AC_mod%?)
      - match: (%?CRE_crushing_resistance%?)
      - match: (%?CRE_current_HP%?)
      - match: (%?CRE_detect_illusion%?)
      - match: (%?CRE_dexterity%?)
      - match: (%?CRE_effect_version%?)
      - match: (%?CRE_effective_AC%?)
      - match: (%?CRE_electricity_resistance%?)
      - match: (%?CRE_fatigue%?)
      - match: (%?CRE_find_traps%?)
      - match: (%?CRE_fire_resistance%?)
      - match: (%?CRE_flags%?)
      - match: (%?CRE_gender%?)
      - match: (%?CRE_general%?)
      - match: (%?CRE_global_identifier%?)
      - match: (%?CRE_gold_carried%?)
      - match: (%?CRE_hair_color%?)
      - match: (%?CRE_hide_in_shadows%?)
      - match: (%?CRE_intelligence%?)
      - match: (%?CRE_intoxication%?)
      - match: (%?CRE_kit_high_word%?)
      - match: (%?CRE_kit_low_word%?)
      - match: (%?CRE_large_portrait%?)
      - match: (%?CRE_large_sword_proficiency%?)
      - match: (%?CRE_leather_color%?)
      - match: (%?CRE_level_first_class%?)
      - match: (%?CRE_level_second_class%?)
      - match: (%?CRE_level_third_class%?)
      - match: (%?CRE_local_identifier%?)
      - match: (%?CRE_lore%?)
      - match: (%?CRE_luck%?)
      - match: (%?CRE_magic_cold_resistance%?)
      - match: (%?CRE_magic_fire_resistance%?)
      - match: (%?CRE_magic_resistance%?)
      - match: (%?CRE_major_color%?)
      - match: (%?CRE_maximum_HP%?)
      - match: (%?CRE_metal_color%?)
      - match: (%?CRE_minor_color%?)
      - match: (%?CRE_missile_AC_mod%?)
      - match: (%?CRE_missile_proficiency%?)
      - match: (%?CRE_missile_resistance%?)
      - match: (%?CRE_morale%?)
      - match: (%?CRE_morale_break%?)
      - match: (%?CRE_morale_recovery%?)
      - match: (%?CRE_move_silently%?)
      - match: (%?CRE_name%?)
      - match: (%?CRE_natural_AC%?)
      - match: (%?CRE_nightmare_mode%?)
      - match: (%?CRE_object_spec_1%?)
      - match: (%?CRE_object_spec_2%?)
      - match: (%?CRE_object_spec_3%?)
      - match: (%?CRE_object_spec_4%?)
      - match: (%?CRE_object_spec_5%?)
      - match: (%?CRE_open_locks%?)
      - match: (%?CRE_pick_pockets%?)
      - match: (%?CRE_piercing_AC_mod%?)
      - match: (%?CRE_piercing_resistance%?)
      - match: (%?CRE_race%?)
      - match: (%?CRE_racial_enemy%?)
      - match: (%?CRE_reputation%?)
      - match: (%?CRE_reputation_gain_loss_when_joining_party%?)
      - match: (%?CRE_reputation_gain_loss_when_killed%?)
      - match: (%?CRE_reputation_gain_loss_when_leaving_party%?)
      - match: (%?CRE_save_vs_breath%?)
      - match: (%?CRE_save_vs_death%?)
      - match: (%?CRE_save_vs_polymorph%?)
      - match: (%?CRE_save_vs_spell%?)
      - match: (%?CRE_save_vs_wand%?)
      - match: (%?CRE_script_name%?)
      - match: (%?CRE_set_traps%?)
      - match: (%?CRE_sex%?)
      - match: (%?CRE_skin_color%?)
      - match: (%?CRE_slashing_AC_mod%?)
      - match: (%?CRE_slashing_resistance%?)
      - match: (%?CRE_small_portrait%?)
      - match: (%?CRE_small_sword_proficiency%?)
      - match: (%?CRE_spear_proficiency%?)
      - match: (%?CRE_specifics%?)
      - match: (%?CRE_spiked_proficiency%?)
      - match: (%?CRE_status%?)
      - match: (%?CRE_strength%?)
      - match: (%?CRE_strength_bonus%?)
      - match: (%?CRE_tooltip%?)
      - match: (%?CRE_tracking%?)
      - match: (%?CRE_tracking_target%?)
      - match: (%?CRE_translucency%?)
      - match: (%?CRE_turn_undead_level%?)
      - match: (%?CRE_wisdom%?)
      - match: (%?CRUSHING_TRAP%?)
      - match: (%?CUTSCENE_BREACH%?)
      - match: (%?CUTSCENE_DAMAGE_1%?)
      - match: (%?CUTSCENE_DAMAGE_1B%?)
      - match: (%?CUTSCENE_DAMAGE_1C%?)
      - match: (%?CUTSCENE_FLESH_TO_STONE%?)
      - match: (%?CUTSCENE_HASTE%?)
      - match: (%?CUTSCENE_IMPRISONMENT%?)
      - match: (%?CUTSCENE_LOWER_RESISTANCE%?)
      - match: (%?CUTSCENE_METEOR_SWARM%?)
      - match: (%?CUTSCENE_MIND_FOG%?)
      - match: (%?CUTSCENE_PHANTASMAL_KILLER%?)
      - match: (%?CUTSCENE_POWERWORD_KILL%?)
      - match: (%?CUTSCENE_POWERWORD_STUN%?)
      - match: (%?CUTSCENE_RUBY_RAY_OF_REVERSAL%?)
      - match: (%?CUTSCENE_SPELLSTRIKE%?)
      - match: (%?DACE_FLAME%?)
      - match: (%?DACE_MIST_FORM_CHANGE%?)
      - match: (%?DAERRAGH%?)
      - match: (%?DAESEWOLF_CHANGE%?)
      - match: (%?DARK_GIFT%?)
      - match: (%?DEAD_MAGIC_AREA%?)
      - match: (%?DEATHKNIGHT_FIREBALL%?)
      - match: (%?DEATH_CURSE%?)
      - match: (%?DECK_COMET%?)
      - match: (%?DECK_CONSTRUCT%?)
      - match: (%?DECK_DEFIANCE%?)
      - match: (%?DECK_DONJON%?)
      - match: (%?DECK_EMPEROR%?)
      - match: (%?DECK_EMPRESS%?)
      - match: (%?DECK_EURYALE%?)
      - match: (%?DECK_FATES%?)
      - match: (%?DECK_FLAMES%?)
      - match: (%?DECK_FOOL%?)
      - match: (%?DECK_GEM%?)
      - match: (%?DECK_GUILE%?)
      - match: (%?DECK_HIGH_PRIESTESS%?)
      - match: (%?DECK_JESTER%?)
      - match: (%?DECK_KEY%?)
      - match: (%?DECK_KNIGHT%?)
      - match: (%?DECK_MAGICIAN%?)
      - match: (%?DECK_MOON%?)
      - match: (%?DECK_PLAGUE%?)
      - match: (%?DECK_ROGUE%?)
      - match: (%?DECK_RUIN%?)
      - match: (%?DECK_SKULL%?)
      - match: (%?DECK_STRENGTH%?)
      - match: (%?DECK_STRIFE%?)
      - match: (%?DECK_SUN%?)
      - match: (%?DECK_TALONS%?)
      - match: (%?DECK_THRONE%?)
      - match: (%?DECK_TRIUMPH%?)
      - match: (%?DECK_VITALITY_DRAIN%?)
      - match: (%?DECK_VIZIER%?)
      - match: (%?DECK_VOID%?)
      - match: (%?DECK_WHEEL%?)
      - match: (%?DECK_XP_DRAIN%?)
      - match: (%?DEL_MIST_FORM_CHANGE%?)
      - match: (%?DEL_VAMP_FORM_CHANGE%?)
      - match: (%?DEMILICH_DEATH%?)
      - match: (%?DEMILICH_TRAP_SOUL%?)
      - match: (%?DEMOGORGON_CHANGE%?)
      - match: (%?DEMOGORGON_GATE%?)
      - match: (%?DEMON_FEAR%?)
      - match: (%?DENSE_PUDDING_SPLIT%?)
      - match: (%?DEPLETION_recharges%?)
      - match: (%?DEPLETION_remains%?)
      - match: (%?DEPLETION_replace_with_used_up%?)
      - match: (%?DEPLETION_vanishes%?)
      - match: (%?DGTROLL_CHANGE%?)
      - match: (%?DIETY_KILL%?)
      - match: (%?DISARM_ENEMY%?)
      - match: (%?DISPELLABLE%?)
      - match: (%?DISPEL_NO_SAVE%?)
      - match: (%?DJINNI_GAS_FORM_CHANGE%?)
      - match: (%?DJINNI_PHYSICAL_FORM_CHANGE%?)
      - match: (%?DM_COLD_PROTECTION%?)
      - match: (%?DM_FIRE_PROTECTION%?)
      - match: (%?DM_IMPROVED_HASTE%?)
      - match: (%?DM_MAGIC_PROTECTION%?)
      - match: (%?DM_SEE_INVISIBLE%?)
      - match: (%?DM_SHIELD%?)
      - match: (%?DOA_GAS_FORM_CHANGE%?)
      - match: (%?DOA_PHYSICAL_FORM_CHANGE%?)
      - match: (%?DOPPLEGANGER_CHANGE%?)
      - match: (%?DOPPLEGANGER_CHANGE2%?)
      - match: (%?DOPPLEGANGER_CHANGE3%?)
      - match: (%?DOPPLEGANGER_CHANGE4%?)
      - match: (%?DOPPLEGANGER_CHANGE5%?)
      - match: (%?DOPPLEGANGER_CHANGE6%?)
      - match: (%?DOPPLEGANGER_CHANGE7%?)
      - match: (%?DOPPLEGANGER_CHANGE8%?)
      - match: (%?DOPPLEGANGER_CHANGE_DEFAULT%?)
      - match: (%?DOPPLEGANGER_CHANGE_DEFAULT_LESSER%?)
      - match: (%?DOPPLEGANGER_RASHAD%?)
      - match: (%?DO_NOTHING%?)
      - match: (%?DO_SOME_EFFECTS%?)
      - match: (%?DRADEEL_BLUE_FIREBALL%?)
      - match: (%?DRADEEL_FLAMEBLADE%?)
      - match: (%?DRADEEL_MINOR_GLOBE%?)
      - match: (%?DRAGON_FEAR%?)
      - match: (%?DRAGON_LOWER_ELECTRICAL%?)
      - match: (%?DRAGON_LOWER_FIRE%?)
      - match: (%?DRAGON_RAIN%?)
      - match: (%?DRAGON_SILENCE%?)
      - match: (%?DRAGON_STONE_SKIN%?)
      - match: (%?DRAGON_WING_BUFFET%?)
      - match: (%?DRAIN_PARTY%?)
      - match: (%?DROW_CHANGE%?)
      - match: (%?DRUID_HUMAN_FORM%?)
      - match: (%?DRUID_IMMUNE_POISON%?)
      - match: (%?DRUID_RESISTS%?)
      - match: (%?DRUID_SHAPESHIFT_BLACKBEAR%?)
      - match: (%?DRUID_SHAPESHIFT_BORING_BEETLE%?)
      - match: (%?DRUID_SHAPESHIFT_BROWNBEAR%?)
      - match: (%?DRUID_SHAPESHIFT_ELEMENTAL_EARTH%?)
      - match: (%?DRUID_SHAPESHIFT_ELEMENTAL_FIRE%?)
      - match: (%?DRUID_SHAPESHIFT_ELEMENTAL_WATER%?)
      - match: (%?DRUID_SHAPESHIFT_FROM_BLACKBEAR%?)
      - match: (%?DRUID_SHAPESHIFT_NATURAL_FORM%?)
      - match: (%?DRUID_SHAPESHIFT_POLAR_BEAR%?)
      - match: (%?DRUID_SHAPESHIFT_WINTER_WOLF%?)
      - match: (%?DRUID_SHAPESHIFT_WOLF%?)
      - match: (%?DRYAD_TELEPORT%?)
      - match: (%?DURLAG_SWORD%?)
      - match: (%?EDWINA_IN_HELL%?)
      - match: (%?EDWIN_CHANGE%?)
      - match: (%?EDWIN_CHANGE_BACK%?)
      - match: (%?EFFECT_ONLY%?)
      - match: (%?EFREETI_GAS_FORM_CHANGE%?)
      - match: (%?EFREETI_PHYSICAL_FORM_CHANGE%?)
      - match: (%?ELVEN_GUARD_WAIL%?)
      - match: (%?END_EXPLORE%?)
      - match: (%?ENEMY_CLERIC_HARM%?)
      - match: (%?ENEMY_CLERIC_SLAY_LIVING%?)
      - match: (%?ENTER_POCKET_PLANE%?)
      - match: (%?ERINYES_CHARM%?)
      - match: (%?EVIL_LAYONHANDS%?)
      - match: (%?FAKE_FLAME_STRIKE%?)
      - match: (%?FALDORN_PANTHER%?)
      - match: (%?FAN_BLOW%?)
      - match: (%?FAST_SKULLTRAP%?)
      - match: (%?FEAR%?)
      - match: (%?FIFTY_PERCENT_DAMAGE%?)
      - match: (%?FIFTY_PERCENT_DAMAGE_ARROW%?)
      - match: (%?FIGURINE_SPIDER_WEB%?)
      - match: (%?FINAL_HEAL%?)
      - match: (%?FIRAMB01_CHANGE%?)
      - match: (%?FIRAMB05_CHANGE%?)
      - match: (%?FIREBALL_DEATH%?)
      - match: (%?FIREDRAKE_DAMAGE%?)
      - match: (%?FIRE_GIANT_LAVA%?)
      - match: (%?FIRE_HEALING%?)
      - match: (%?FIVE_ROUND_ENCHANTMENT_IMMUNITY%?)
      - match: (%?FLAG_CRE_alignment_tracking%?)
      - match: (%?FLAG_CRE_allegiance_tracking%?)
      - match: (%?FLAG_CRE_been_in_party%?)
      - match: (%?FLAG_CRE_class_tracking%?)
      - match: (%?FLAG_CRE_export_allowed%?)
      - match: (%?FLAG_CRE_fallen_paladin%?)
      - match: (%?FLAG_CRE_fallen_ranger%?)
      - match: (%?FLAG_CRE_gender_tracking%?)
      - match: (%?FLAG_CRE_general_tracking%?)
      - match: (%?FLAG_CRE_hide_status%?)
      - match: (%?FLAG_CRE_holding_item%?)
      - match: (%?FLAG_CRE_identified%?)
      - match: (%?FLAG_CRE_ignore_nightmare_mode%?)
      - match: (%?FLAG_CRE_large_creature%?)
      - match: (%?FLAG_CRE_moving_between_areas%?)
      - match: (%?FLAG_CRE_no_corpse%?)
      - match: (%?FLAG_CRE_no_exploding_death%?)
      - match: (%?FLAG_CRE_no_tooltip%?)
      - match: (%?FLAG_CRE_original_class_cleric%?)
      - match: (%?FLAG_CRE_original_class_druid%?)
      - match: (%?FLAG_CRE_original_class_fighter%?)
      - match: (%?FLAG_CRE_original_class_mage%?)
      - match: (%?FLAG_CRE_original_class_ranger%?)
      - match: (%?FLAG_CRE_original_class_thief%?)
      - match: (%?FLAG_CRE_permanent_corpse%?)
      - match: (%?FLAG_CRE_race_tracking%?)
      - match: (%?FLAG_CRE_reset_holding_item%?)
      - match: (%?FLAG_CRE_specifics_tracking%?)
      - match: (%?FLAG_CRE_uninterruptible%?)
      - match: (%?FLAG_HEADER_add_strength_bonus%?)
      - match: (%?FLAG_HEADER_breakable%?)
      - match: (%?FLAG_HEADER_bypass_armor%?)
      - match: (%?FLAG_HEADER_ee_strength_bonus%?)
      - match: (%?FLAG_HEADER_ee_thac0_strength_bonus%?)
      - match: (%?FLAG_HEADER_ex_cant_target_invisible%?)
      - match: (%?FLAG_HEADER_ex_toggle_backstab%?)
      - match: (%?FLAG_HEADER_hostile%?)
      - match: (%?FLAG_HEADER_keen_edge%?)
      - match: (%?FLAG_HEADER_recharge_after_rest%?)
      - match: (%?FLAG_SPL_EEEx_can_target_invisible%?)
      - match: (%?FLAG_SPL_EEEx_castable_when_silenced%?)
      - match: (%?FLAG_SPL_EE_break_sanctuary%?)
      - match: (%?FLAG_SPL_allow_spotting%?)
      - match: (%?FLAG_SPL_hostile%?)
      - match: (%?FLAG_SPL_ignore_dead_wild_magic%?)
      - match: (%?FLAG_SPL_ignore_wild_surge%?)
      - match: (%?FLAG_SPL_no_LOS%?)
      - match: (%?FLAG_SPL_not_in_combat%?)
      - match: (%?FLAG_SPL_outdoors_only%?)
      - match: (%?FLAME_HEAD%?)
      - match: (%?FLAMING_SKULL_BOLT%?)
      - match: (%?FLASHY_1%?)
      - match: (%?FLASHY_2%?)
      - match: (%?FLASHY_3%?)
      - match: (%?FLASHY_4%?)
      - match: (%?FLASHY_DEATH_1%?)
      - match: (%?FLASHY_DEATH_2%?)
      - match: (%?FLASHY_DEATH_3%?)
      - match: (%?FLASHY_DEATH_YEAH%?)
      - match: (%?FORCE_DAMAGE_1%?)
      - match: (%?FORCE_DISPEL_MAGIC%?)
      - match: (%?FORCE_SPHERE%?)
      - match: (%?FORCE_STONE_TRAP%?)
      - match: (%?FROZEN_DEATH%?)
      - match: (%?GAIN_HASTE_TEMPORARY%?)
      - match: (%?GAIN_MAGIC_RESIST_PERMANENT%?)
      - match: (%?GAIN_ONE_AC%?)
      - match: (%?GAIN_ONE_CHA_PERMANENT%?)
      - match: (%?GAIN_ONE_CON_PERMANENT%?)
      - match: (%?GAIN_ONE_DEX_PERMANENT%?)
      - match: (%?GAIN_ONE_INT_PERMANENT%?)
      - match: (%?GAIN_ONE_STR_PERMANENT%?)
      - match: (%?GAIN_ONE_THACO%?)
      - match: (%?GAIN_ONE_WIS_PERMANENT%?)
      - match: (%?GAROCK_TELEPORT%?)
      - match: (%?GENIE_LIMITED_WISH_HEAL_ALL%?)
      - match: (%?GHOULLORD_FEAR%?)
      - match: (%?GIVE_SLAYER_POWER%?)
      - match: (%?GOLEM_CONFUSION%?)
      - match: (%?GOLEM_GASCLOUD%?)
      - match: (%?GOLEM_HASTE%?)
      - match: (%?GOLEM_SLOW%?)
      - match: (%?GORION_LIGHTNING%?)
      - match: (%?GORION_MAGIC_MISSILE%?)
      - match: (%?GREATER_WEREWOLF_CHANGE%?)
      - match: (%?GREATER_WOLFWERE_CHANGE%?)
      - match: (%?GREAT_DRUID_TITLE%?)
      - match: (%?GREEN_DRAGON_BREATH%?)
      - match: (%?HARPASS_CHANGE%?)
      - match: (%?HARPER_DEATH_SONG%?)
      - match: (%?HASTE_SELF%?)
      - match: (%?HEAL_NO_VISUAL%?)
      - match: (%?HELL_BUFFET%?)
      - match: (%?HELL_DAMAGE_HALF%?)
      - match: (%?HELL_DISPELL%?)
      - match: (%?HELL_EXPLODE%?)
      - match: (%?HELL_FEAR%?)
      - match: (%?HELL_FEAR_EVIL%?)
      - match: (%?HELL_FEAR_GOOD%?)
      - match: (%?HELL_GAIN_CHR%?)
      - match: (%?HELL_GAIN_CON%?)
      - match: (%?HELL_GAIN_DEX%?)
      - match: (%?HELL_GAIN_INT%?)
      - match: (%?HELL_GAIN_STR%?)
      - match: (%?HELL_GAIN_WIS%?)
      - match: (%?HELL_GREED_EVIL%?)
      - match: (%?HELL_GREED_GOOD%?)
      - match: (%?HELL_HOLD%?)
      - match: (%?HELL_HOUND_FLAME%?)
      - match: (%?HELL_LOSE_DEX%?)
      - match: (%?HELL_LOSE_HP%?)
      - match: (%?HELL_LOSE_XP%?)
      - match: (%?HELL_PRIDE_EVIL%?)
      - match: (%?HELL_PRIDE_GOOD%?)
      - match: (%?HELL_SELFISH_EVIL%?)
      - match: (%?HELL_SELFISH_GOOD%?)
      - match: (%?HELL_WRATH_EVIL%?)
      - match: (%?HELL_WRATH_GOOD%?)
      - match: (%?HELM_RITUAL_SCROLL%?)
      - match: (%?HELM_SEEKING_SWORD%?)
      - match: (%?HELM_TRUE_SIGHT%?)
      - match: (%?HIVE_MOTHER_ANTIMAGIC_RAY%?)
      - match: (%?HIVE_MOTHER_CAUSE_SERIOUS_WOUNDS%?)
      - match: (%?HIVE_MOTHER_DISINTEGRATE%?)
      - match: (%?HOLD_PARTY%?)
      - match: (%?HOLD_PERSON_NO_SAVE%?)
      - match: (%?HOLY_LIGHT_FROM_ABOVE%?)
      - match: (%?HOLY_PILLAR_VISUAL%?)
      - match: (%?HULK_CONFUSION%?)
      - match: (%?ICE_DUST%?)
      - match: (%?ICE_GOLEM_STEAM%?)
      - match: (%?ICON_ability_score_drained%?)
      - match: (%?ICON_able_to_poison_weapons%?)
      - match: (%?ICON_absolute_immunity%?)
      - match: (%?ICON_acid%?)
      - match: (%?ICON_aid%?)
      - match: (%?ICON_animal_rage%?)
      - match: (%?ICON_assassination%?)
      - match: (%?ICON_at_a_store%?)
      - match: (%?ICON_aura_of_flaming_death%?)
      - match: (%?ICON_avoid_death%?)
      - match: (%?ICON_bad_luck%?)
      - match: (%?ICON_barbarian_rage%?)
      - match: (%?ICON_bard_song%?)
      - match: (%?ICON_barkskin%?)
      - match: (%?ICON_berserk%?)
      - match: (%?ICON_blade_barrier%?)
      - match: (%?ICON_bleeding%?)
      - match: (%?ICON_blessed%?)
      - match: (%?ICON_blind%?)
      - match: (%?ICON_blood_rage%?)
      - match: (%?ICON_boon_of_lathander%?)
      - match: (%?ICON_called_shot%?)
      - match: (%?ICON_cats_grace%?)
      - match: (%?ICON_champions_strength%?)
      - match: (%?ICON_chant%?)
      - match: (%?ICON_chaos%?)
      - match: (%?ICON_chaos_of_battle%?)
      - match: (%?ICON_chaos_shield%?)
      - match: (%?ICON_chaotic_commands%?)
      - match: (%?ICON_charm%?)
      - match: (%?ICON_cloak_of_fear%?)
      - match: (%?ICON_confusion%?)
      - match: (%?ICON_contingency_active%?)
      - match: (%?ICON_courage%?)
      - match: (%?ICON_critical_strike%?)
      - match: (%?ICON_cursed%?)
      - match: (%?ICON_deaf%?)
      - match: (%?ICON_death_ward%?)
      - match: (%?ICON_deathblow%?)
      - match: (%?ICON_decaying%?)
      - match: (%?ICON_defensive_harmony%?)
      - match: (%?ICON_defensive_stance%?)
      - match: (%?ICON_detecting_traps%?)
      - match: (%?ICON_dialog_mode%?)
      - match: (%?ICON_dire_charm%?)
      - match: (%?ICON_domination%?)
      - match: (%?ICON_doom%?)
      - match: (%?ICON_draw_upon_holy_might%?)
      - match: (%?ICON_dying%?)
      - match: (%?ICON_earth_elemental_transformation%?)
      - match: (%?ICON_enchanted_weapon%?)
      - match: (%?ICON_energy_drain_mindflayer%?)
      - match: (%?ICON_energy_drain_psionic%?)
      - match: (%?ICON_enfeebled%?)
      - match: (%?ICON_enraged%?)
      - match: (%?ICON_entangled%?)
      - match: (%?ICON_ether_gate%?)
      - match: (%?ICON_evasion%?)
      - match: (%?ICON_exaltation%?)
      - match: (%?ICON_farsight%?)
      - match: (%?ICON_fatigue%?)
      - match: (%?ICON_feebleminded%?)
      - match: (%?ICON_fire_elemental_transformation%?)
      - match: (%?ICON_fire_shield_blue%?)
      - match: (%?ICON_fire_shield_red%?)
      - match: (%?ICON_free_action%?)
      - match: (%?ICON_friends%?)
      - match: (%?ICON_ghost_armor%?)
      - match: (%?ICON_glass_dust%?)
      - match: (%?ICON_glitterdust%?)
      - match: (%?ICON_globe_of_blades%?)
      - match: (%?ICON_globe_of_invulnerability%?)
      - match: (%?ICON_good_luck%?)
      - match: (%?ICON_grease%?)
      - match: (%?ICON_greater_deathblow%?)
      - match: (%?ICON_greater_evasion%?)
      - match: (%?ICON_greater_malison%?)
      - match: (%?ICON_greater_shield_of_lathander%?)
      - match: (%?ICON_greater_whirlwind%?)
      - match: (%?ICON_hardiness%?)
      - match: (%?ICON_haste%?)
      - match: (%?ICON_held%?)
      - match: (%?ICON_heroism%?)
      - match: (%?ICON_holy_power%?)
      - match: (%?ICON_hope%?)
      - match: (%?ICON_hopelessness%?)
      - match: (%?ICON_immunity_abjuration%?)
      - match: (%?ICON_immunity_alteration%?)
      - match: (%?ICON_immunity_conjuration%?)
      - match: (%?ICON_immunity_divination%?)
      - match: (%?ICON_immunity_enchantment%?)
      - match: (%?ICON_immunity_evocation%?)
      - match: (%?ICON_immunity_illusion%?)
      - match: (%?ICON_immunity_necromancy%?)
      - match: (%?ICON_impervious_sanctity_of_mind%?)
      - match: (%?ICON_imprisonment%?)
      - match: (%?ICON_improved_alacrity%?)
      - match: (%?ICON_improved_chaos_shield%?)
      - match: (%?ICON_improved_haste%?)
      - match: (%?ICON_improved_mantle%?)
      - match: (%?ICON_increased_movement_rate%?)
      - match: (%?ICON_infravision%?)
      - match: (%?ICON_intelligence_drained_by_mind_flayer%?)
      - match: (%?ICON_intoxicated%?)
      - match: (%?ICON_invulnerable%?)
      - match: (%?ICON_iron_body%?)
      - match: (%?ICON_iron_skins%?)
      - match: (%?ICON_kai%?)
      - match: (%?ICON_level_drain%?)
      - match: (%?ICON_magic_armour%?)
      - match: (%?ICON_magic_flute%?)
      - match: (%?ICON_magic_resistance%?)
      - match: (%?ICON_magic_resistance_lowered%?)
      - match: (%?ICON_magnetized%?)
      - match: (%?ICON_mantle%?)
      - match: (%?ICON_mareks_poison%?)
      - match: (%?ICON_master_thievery%?)
      - match: (%?ICON_maze%?)
      - match: (%?ICON_mental_combat%?)
      - match: (%?ICON_mind_blank%?)
      - match: (%?ICON_mind_shield%?)
      - match: (%?ICON_minor_globe_of_invulnerability%?)
      - match: (%?ICON_miscast_magic%?)
      - match: (%?ICON_mislead%?)
      - match: (%?ICON_nauseated%?)
      - match: (%?ICON_negative_plane_protection%?)
      - match: (%?ICON_non_detection%?)
      - match: (%?ICON_offensive_stance%?)
      - match: (%?ICON_otilukes_resilient_sphere%?)
      - match: (%?ICON_pain%?)
      - match: (%?ICON_panic%?)
      - match: (%?ICON_perception%?)
      - match: (%?ICON_petrified%?)
      - match: (%?ICON_phased%?)
      - match: (%?ICON_physical_mirror%?)
      - match: (%?ICON_poisoned%?)
      - match: (%?ICON_polymorph_self%?)
      - match: (%?ICON_polymorphed%?)
      - match: (%?ICON_power_attack%?)
      - match: (%?ICON_prayer%?)
      - match: (%?ICON_projected_image%?)
      - match: (%?ICON_protected_from_energy%?)
      - match: (%?ICON_protected_from_the_elements%?)
      - match: (%?ICON_protection_from_acid%?)
      - match: (%?ICON_protection_from_cold%?)
      - match: (%?ICON_protection_from_electricity%?)
      - match: (%?ICON_protection_from_evil%?)
      - match: (%?ICON_protection_from_fire%?)
      - match: (%?ICON_protection_from_magic%?)
      - match: (%?ICON_protection_from_magic_weapons%?)
      - match: (%?ICON_protection_from_magical_energy%?)
      - match: (%?ICON_protection_from_missiles%?)
      - match: (%?ICON_protection_from_normal_weapons%?)
      - match: (%?ICON_protection_from_petrification%?)
      - match: (%?ICON_protection_from_poison%?)
      - match: (%?ICON_protection_from_undead%?)
      - match: (%?ICON_quivering_palm%?)
      - match: (%?ICON_recitation%?)
      - match: (%?ICON_regenerate%?)
      - match: (%?ICON_regenerating%?)
      - match: (%?ICON_regeneration%?)
      - match: (%?ICON_repulse_undead%?)
      - match: (%?ICON_repulsing_undead%?)
      - match: (%?ICON_repulsion%?)
      - match: (%?ICON_resist_fear%?)
      - match: (%?ICON_resist_fire_cold%?)
      - match: (%?ICON_righteous_magic%?)
      - match: (%?ICON_righteous_wrath_of_the_faithful%?)
      - match: (%?ICON_rigid_thinking%?)
      - match: (%?ICON_setting_trap%?)
      - match: (%?ICON_shamanic_dance%?)
      - match: (%?ICON_shield_of_lathander%?)
      - match: (%?ICON_shield_of_the_archons%?)
      - match: (%?ICON_shielded%?)
      - match: (%?ICON_silenced%?)
      - match: (%?ICON_sleep%?)
      - match: (%?ICON_slow%?)
      - match: (%?ICON_smite%?)
      - match: (%?ICON_spell_deflection%?)
      - match: (%?ICON_spell_failure%?)
      - match: (%?ICON_spell_immunity%?)
      - match: (%?ICON_spell_sequencer_active%?)
      - match: (%?ICON_spell_shield%?)
      - match: (%?ICON_spell_trap%?)
      - match: (%?ICON_spell_trigger%?)
      - match: (%?ICON_spell_turning%?)
      - match: (%?ICON_spirit_armour%?)
      - match: (%?ICON_spirit_ward%?)
      - match: (%?ICON_stoneskin%?)
      - match: (%?ICON_storm_shield%?)
      - match: (%?ICON_strength%?)
      - match: (%?ICON_strength_of_one%?)
      - match: (%?ICON_stun%?)
      - match: (%?ICON_stunning_blow%?)
      - match: (%?ICON_tensers_transformation%?)
      - match: (%?ICON_the_ballad_of_three_heroes%?)
      - match: (%?ICON_the_sirens_yearning%?)
      - match: (%?ICON_the_song_of_kaudies%?)
      - match: (%?ICON_the_tale_of_curran_strongheart%?)
      - match: (%?ICON_true_seeing%?)
      - match: (%?ICON_tymoras_melody%?)
      - match: (%?ICON_unconscious%?)
      - match: (%?ICON_vocalize%?)
      - match: (%?ICON_war_chant_of_sith%?)
      - match: (%?ICON_webbed%?)
      - match: (%?ICON_whirlwind_attack%?)
      - match: (%?IGNORE_MAGIC_RESISTANCE%?)
      - match: (%?ILLUSION_DEATH%?)
      - match: (%?IMMUNITY_TO_LEVEL_DRAIN%?)
      - match: (%?IMOEN_BHAAL1%?)
      - match: (%?IMOEN_BHAAL2%?)
      - match: (%?IMPRISONMENT_NO_SAVE%?)
      - match: (%?INNATE_ANIMAL_AFFINITY%?)
      - match: (%?INNATE_AURA_OF_FEAR%?)
      - match: (%?INNATE_BEHOLDER_ANTIMAGIC_RAY%?)
      - match: (%?INNATE_BEHOLDER_CAUSE_SERIOUS_WOUNDS%?)
      - match: (%?INNATE_BEHOLDER_CHARM_PERSON%?)
      - match: (%?INNATE_BEHOLDER_DEATH_RAY%?)
      - match: (%?INNATE_BEHOLDER_DISINTEGRATE%?)
      - match: (%?INNATE_BEHOLDER_FEAR%?)
      - match: (%?INNATE_BEHOLDER_FLESH_TO_STONE%?)
      - match: (%?INNATE_BEHOLDER_SLEEP%?)
      - match: (%?INNATE_BEHOLDER_SLOW%?)
      - match: (%?INNATE_BEHOLDER_UNUSED%?)
      - match: (%?INNATE_BELHIFETS_DEATH_ANIMATION%?)
      - match: (%?INNATE_BLUE_GLOW%?)
      - match: (%?INNATE_BOMBARDIER_BEETLE_CLOUD%?)
      - match: (%?INNATE_CHAMELEON_POWER%?)
      - match: (%?INNATE_CONTAINER_GLOW%?)
      - match: (%?INNATE_CONTAINER_GLOW_BAD%?)
      - match: (%?INNATE_CORNUGON_SUMMON_TRAVEL_ANIMATION%?)
      - match: (%?INNATE_CRYPT_THING_TELEPORT%?)
      - match: (%?INNATE_CURE_LIGHT_WOUNDS%?)
      - match: (%?INNATE_D5_HIGH_BAPTISM%?)
      - match: (%?INNATE_DEATH_KNELL%?)
      - match: (%?INNATE_DRAGON_BREATH%?)
      - match: (%?INNATE_DRAGON_DEATH_ANIMATION%?)
      - match: (%?INNATE_DRAGON_GEM_EFFECTS%?)
      - match: (%?INNATE_DRAGON_GEM_SUMMONING%?)
      - match: (%?INNATE_DRAGON_WING_BUFFET%?)
      - match: (%?INNATE_DRAW_UPON_HOLY_MIGHT%?)
      - match: (%?INNATE_EVERARDS_PORTAL_CLOSING%?)
      - match: (%?INNATE_FLASH_DESTROY_SUMMON_BELHIFET%?)
      - match: (%?INNATE_FLASH_DESTROY_SUMMON_YXUNOMEI%?)
      - match: (%?INNATE_FLASH_DISAPPEAR%?)
      - match: (%?INNATE_FROST_AURA%?)
      - match: (%?INNATE_GREAT_ROAR%?)
      - match: (%?INNATE_HARPY_WAIL%?)
      - match: (%?INNATE_HARPY_WAIL_INTERNAL%?)
      - match: (%?INNATE_HOBART_TO_RAKSHASA%?)
      - match: (%?INNATE_HORROR%?)
      - match: (%?INNATE_ICE_GOLEM_DISAPPEAR%?)
      - match: (%?INNATE_INCENDIARY_CLOUD_EXPLOSION%?)
      - match: (%?INNATE_INCENDIARY_CLOUD_IDLING%?)
      - match: (%?INNATE_INFERNAL_CONVEYANCE%?)
      - match: (%?INNATE_IRON_GOLEM_CLOUD%?)
      - match: (%?INNATE_JACKALWERE_GAZE%?)
      - match: (%?INNATE_JACKALWERE_GAZE_INTERNAL%?)
      - match: (%?INNATE_LARLOCHS_MINOR_DRAIN%?)
      - match: (%?INNATE_MOURNFUL_WAIL%?)
      - match: (%?INNATE_MUSTARD_JELLY_VAPOR%?)
      - match: (%?INNATE_MYCONID_SPORES%?)
      - match: (%?INNATE_PHASE_SPIDER_TELEPORT%?)
      - match: (%?INNATE_POLYMORPH_TO_DOG%?)
      - match: (%?INNATE_POQUELINS_PORTAL_OPENING%?)
      - match: (%?INNATE_REMOVE_TERIKANS_ITEM_ANIMATION%?)
      - match: (%?INNATE_RETRIBUTION%?)
      - match: (%?INNATE_SALAMANDER_AURA_FIRE%?)
      - match: (%?INNATE_SALAMANDER_AURA_FROST%?)
      - match: (%?INNATE_SALAMANDER_AURA_SHIKATA%?)
      - match: (%?INNATE_SEER_TELEPORT%?)
      - match: (%?INNATE_SHADOW_PACT%?)
      - match: (%?INNATE_SHAPESHIFTS_WEREWOLF%?)
      - match: (%?INNATE_SLOW_POISON%?)
      - match: (%?INNATE_SUMMON_GLABREZU%?)
      - match: (%?INNATE_TELEPORT_WITHOUT_ERROR%?)
      - match: (%?INNATE_UMBER_HULK_GAZE%?)
      - match: (%?INNATE_UNDYING_LAMENT%?)
      - match: (%?INNATE_VAMPIRIC_TOUCH%?)
      - match: (%?INNATE_WAR_CRY%?)
      - match: (%?INNATE_WEREWOLF_DEATH%?)
      - match: (%?INNATE_WIND_WALK%?)
      - match: (%?INNATE_WINTER_WOLF_BREATH%?)
      - match: (%?INNATE_WYLFDENES_DEATH_ANIMATION%?)
      - match: (%?INNATE_ZOMBIE_LORD_AURA%?)
      - match: (%?INQUIS_DISPEL_MAGIC%?)
      - match: (%?INQUIS_TRUE_SIGHT%?)
      - match: (%?INVISIBILITY_SELF%?)
      - match: (%?INVOKE_COURAGE%?)
      - match: (%?IRENICUS_WORD_OF_POWER%?)
      - match: (%?IWD_UNKNOWN_2%?)
      - match: (%?IWD_UNKNOWN_3%?)
      - match: (%?JAHEIRA_WEAKNESS%?)
      - match: (%?JAN_AMMO%?)
      - match: (%?JELLY_SPLIT%?)
      - match: (%?JON_ALL_DEAD%?)
      - match: (%?JON_WISH%?)
      - match: (%?KAMIKAZE_EXPLOSION%?)
      - match: (%?KENSAI_KIA%?)
      - match: (%?KOA_TRUE_SIGHT_NO_VIS%?)
      - match: (%?LASSAL_MIST_CHANGE%?)
      - match: (%?LATHANDER_BOON%?)
      - match: (%?LATHANDER_HOLD_UNDEAD%?)
      - match: (%?LAVA_BURST%?)
      - match: (%?LICH_FEAR%?)
      - match: (%?LICH_IMPRISON%?)
      - match: (%?LICH_REPLACE_SELF%?)
      - match: (%?LONG_RED_MIGHT%?)
      - match: (%?LONG_VISUAL%?)
      - match: (%?LONG_VISUAL2%?)
      - match: (%?LOSE_ALL%?)
      - match: (%?LOSE_FIFTEEN_LEVELS%?)
      - match: (%?LOSE_FIVE_LEVELS%?)
      - match: (%?LOSE_ONE_DEX_PERMANENT%?)
      - match: (%?LOSE_ONE_INT_PERMANENT%?)
      - match: (%?LOUPGAR_CHANGE%?)
      - match: (%?LOVEM_CHANGE%?)
      - match: (%?MAGIC_MISSILE_SURE_HIT%?)
      - match: (%?MAGNET%?)
      - match: (%?MAJOR_POLYMORPH%?)
      - match: (%?MAKE_SHADOW%?)
      - match: (%?MAKE_STATUE%?)
      - match: (%?MANE_GAS%?)
      - match: (%?MAZZY_HASTE%?)
      - match: (%?MAZZY_LAY%?)
      - match: (%?MAZZY_STRENGTH%?)
      - match: (%?MEPHIT_BLUR%?)
      - match: (%?MEPHIT_BOLT%?)
      - match: (%?MEPHIT_COLOR_SPRAY%?)
      - match: (%?MEPHIT_FLAME_FAN%?)
      - match: (%?MEPHIT_FLAME_JET%?)
      - match: (%?MEPHIT_GLASS_DUST%?)
      - match: (%?MEPHIT_GRIT%?)
      - match: (%?MEPHIT_ICE_SHARD%?)
      - match: (%?MEPHIT_LAVA%?)
      - match: (%?MEPHIT_LIGHTNING_BOLT%?)
      - match: (%?MEPHIT_MIST%?)
      - match: (%?MEPHIT_RAINSTORM%?)
      - match: (%?MEPHIT_SALT_CRYSTAL%?)
      - match: (%?MEPHIT_SOOTY_BALL%?)
      - match: (%?MEPHIT_SPIT_ROCK%?)
      - match: (%?MEPHIT_STINKING_CLOUD%?)
      - match: (%?MEPHIT_WATER_JET%?)
      - match: (%?MIMIC_ACID%?)
      - match: (%?MIMIC_FIRE%?)
      - match: (%?MIMIC_GLUE%?)
      - match: (%?MIMIC_POISON%?)
      - match: (%?MIMIC_WEB%?)
      - match: (%?MIND_CRIPPLE%?)
      - match: (%?MIND_FLAYER_DOMINATION%?)
      - match: (%?MIND_FLAYER_PSIONIC_BLAST%?)
      - match: (%?MINSC_BERSERK%?)
      - match: (%?MIST_CHAOS%?)
      - match: (%?MIST_HORROR%?)
      - match: (%?MKHIIN_SUMMON_ANCESTRAL_GUARDIAN%?)
      - match: (%?MONK_LAY_ON_HANDS%?)
      - match: (%?MONK_QUIVERING_PALM%?)
      - match: (%?MONK_STUNNING_BLOW%?)
      - match: (%?MOON_DOG_FEAR%?)
      - match: (%?MOON_DOG_HOWL%?)
      - match: (%?MULTIPLAYER_ANTIMAGIC%?)
      - match: (%?MUSHROOM_FIRE%?)
      - match: (%?NALMISSRA_CHARM%?)
      - match: (%?NEOTHELID_BREATH%?)
      - match: (%?NETHER_SCROLL%?)
      - match: (%?NOHOLD_PARTY%?)
      - match: (%?NONMAGICAL%?)
      - match: (%?NON_DETECTION_SELF%?)
      - match: (%?NOSAVE_PSIONIC_BLAST%?)
      - match: (%?NO_FEAR_PARTY%?)
      - match: (%?NPC_BLADE_BARRIER%?)
      - match: (%?NYMPH_CONFUSION%?)
      - match: (%?ODREN_RITUAL_SCROLL%?)
      - match: (%?ONE_CON%?)
      - match: (%?ONE_DEX%?)
      - match: (%?ONE_INT%?)
      - match: (%?ONE_WIS%?)
      - match: (%?OPCODE_HLA_denotation%?)
      - match: (%?OPCODE_ac_vs_creature_type%?)
      - match: (%?OPCODE_ac_vs_damage_type%?)
      - match: (%?OPCODE_acid_resist_mod%?)
      - match: (%?OPCODE_add_map_marker%?)
      - match: (%?OPCODE_aid%?)
      - match: (%?OPCODE_alignment_change%?)
      - match: (%?OPCODE_alignment_invert%?)
      - match: (%?OPCODE_animation_change%?)
      - match: (%?OPCODE_animation_removal%?)
      - match: (%?OPCODE_apply_effect_item%?)
      - match: (%?OPCODE_apply_effect_itemtype%?)
      - match: (%?OPCODE_apply_repeating_eff%?)
      - match: (%?OPCODE_attack_nearest_creature%?)
      - match: (%?OPCODE_attack_speed_factor%?)
      - match: (%?OPCODE_attacks_per_round_mod%?)
      - match: (%?OPCODE_aura_cleansing%?)
      - match: (%?OPCODE_avatar_removal%?)
      - match: (%?OPCODE_backstab%?)
      - match: (%?OPCODE_backstab_every_hit%?)
      - match: (%?OPCODE_bless%?)
      - match: (%?OPCODE_blindness%?)
      - match: (%?OPCODE_bounce_opcode%?)
      - match: (%?OPCODE_bounce_projectile%?)
      - match: (%?OPCODE_bounce_school_decrement%?)
      - match: (%?OPCODE_bounce_secondary_type%?)
      - match: (%?OPCODE_bounce_secondary_type_decrement%?)
      - match: (%?OPCODE_bounce_specified_spell%?)
      - match: (%?OPCODE_bounce_spell_level%?)
      - match: (%?OPCODE_bounce_spell_school%?)
      - match: (%?OPCODE_button_disable_button%?)
      - match: (%?OPCODE_button_enable_button%?)
      - match: (%?OPCODE_can_use_any_item%?)
      - match: (%?OPCODE_cant_use_item%?)
      - match: (%?OPCODE_cant_use_itemtype%?)
      - match: (%?OPCODE_cast_spell_at_creature%?)
      - match: (%?OPCODE_cast_spell_at_point%?)
      - match: (%?OPCODE_cast_spell_on%?)
      - match: (%?OPCODE_casting_glow%?)
      - match: (%?OPCODE_casting_level_mod%?)
      - match: (%?OPCODE_casting_time_mod%?)
      - match: (%?OPCODE_change_bard_song%?)
      - match: (%?OPCODE_chaos_shield%?)
      - match: (%?OPCODE_character_animation_change%?)
      - match: (%?OPCODE_charisma_mod%?)
      - match: (%?OPCODE_charm_charm_specific_creature%?)
      - match: (%?OPCODE_charm_control_creature%?)
      - match: (%?OPCODE_check_for_berserk%?)
      - match: (%?OPCODE_clear_fog_of%?)
      - match: (%?OPCODE_cold_resist_mod%?)
      - match: (%?OPCODE_colour_change_by_rgb%?)
      - match: (%?OPCODE_colour_glow_by_rgb_brief%?)
      - match: (%?OPCODE_colour_glow_pulse%?)
      - match: (%?OPCODE_colour_set_character_colours_by%?)
      - match: (%?OPCODE_colour_strong_dark_by_rgb%?)
      - match: (%?OPCODE_colour_very_bright_by_rgb%?)
      - match: (%?OPCODE_confusion%?)
      - match: (%?OPCODE_constitution_mod%?)
      - match: (%?OPCODE_contingency_creation%?)
      - match: (%?OPCODE_create_inventory_item%?)
      - match: (%?OPCODE_create_inventory_item_days%?)
      - match: (%?OPCODE_create_item_in_slot%?)
      - match: (%?OPCODE_create_magical_weapon%?)
      - match: (%?OPCODE_creature_summoning%?)
      - match: (%?OPCODE_critical_hit_mod%?)
      - match: (%?OPCODE_crushing_resist_mod%?)
      - match: (%?OPCODE_cumulative_luck_bonus%?)
      - match: (%?OPCODE_cure_berserking%?)
      - match: (%?OPCODE_cure_blindness%?)
      - match: (%?OPCODE_cure_confusion%?)
      - match: (%?OPCODE_cure_deafness%?)
      - match: (%?OPCODE_cure_death%?)
      - match: (%?OPCODE_cure_disease%?)
      - match: (%?OPCODE_cure_dispellable_effects%?)
      - match: (%?OPCODE_cure_drunkeness%?)
      - match: (%?OPCODE_cure_feeblemindedness%?)
      - match: (%?OPCODE_cure_hold%?)
      - match: (%?OPCODE_cure_horror%?)
      - match: (%?OPCODE_cure_invisibility%?)
      - match: (%?OPCODE_cure_invisibility_2%?)
      - match: (%?OPCODE_cure_level_drain%?)
      - match: (%?OPCODE_cure_non_detection%?)
      - match: (%?OPCODE_cure_poison%?)
      - match: (%?OPCODE_cure_silence%?)
      - match: (%?OPCODE_cure_sleep%?)
      - match: (%?OPCODE_cure_stone_to_flesh%?)
      - match: (%?OPCODE_cure_stun%?)
      - match: (%?OPCODE_cure_unpause_target%?)
      - match: (%?OPCODE_damage_mod%?)
      - match: (%?OPCODE_damage_vs_creature%?)
      - match: (%?OPCODE_deafness%?)
      - match: (%?OPCODE_death_dependent_constitution%?)
      - match: (%?OPCODE_death_disintegrate%?)
      - match: (%?OPCODE_death_kill_60hp%?)
      - match: (%?OPCODE_death_kill_creature_type%?)
      - match: (%?OPCODE_decrementing_bounce_spells%?)
      - match: (%?OPCODE_decrementing_spell_immunity%?)
      - match: (%?OPCODE_defrost%?)
      - match: (%?OPCODE_detect_alignment%?)
      - match: (%?OPCODE_detect_illusion_mod%?)
      - match: (%?OPCODE_dexterity_mod%?)
      - match: (%?OPCODE_dimension_door%?)
      - match: (%?OPCODE_disable_permanent_death%?)
      - match: (%?OPCODE_disable_spell_casting_abilities%?)
      - match: (%?OPCODE_disable_visual_effect%?)
      - match: (%?OPCODE_disease%?)
      - match: (%?OPCODE_dispel_magic%?)
      - match: (%?OPCODE_display_special_effect_icon%?)
      - match: (%?OPCODE_dither%?)
      - match: (%?OPCODE_dont_jump%?)
      - match: (%?OPCODE_drain_item_charges%?)
      - match: (%?OPCODE_drain_wizard_spell%?)
      - match: (%?OPCODE_drop_weapons_in_panic%?)
      - match: (%?OPCODE_drunkenness_mod%?)
      - match: (%?OPCODE_duration_mod%?)
      - match: (%?OPCODE_effect_berserking%?)
      - match: (%?OPCODE_effect_wild_magic%?)
      - match: (%?OPCODE_electricity_resist_mod%?)
      - match: (%?OPCODE_execute_script_cut250a%?)
      - match: (%?OPCODE_existance_delay_override%?)
      - match: (%?OPCODE_experience_points%?)
      - match: (%?OPCODE_extra_damage_mod%?)
      - match: (%?OPCODE_familiar_block%?)
      - match: (%?OPCODE_farsight%?)
      - match: (%?OPCODE_fatigue_mod%?)
      - match: (%?OPCODE_feeblemindedness%?)
      - match: (%?OPCODE_find_familiar%?)
      - match: (%?OPCODE_find_traps%?)
      - match: (%?OPCODE_find_traps_mod%?)
      - match: (%?OPCODE_fire_resist_mod%?)
      - match: (%?OPCODE_fist_damage_mod%?)
      - match: (%?OPCODE_fist_thac0_mod%?)
      - match: (%?OPCODE_force_visible%?)
      - match: (%?OPCODE_give_ability%?)
      - match: (%?OPCODE_gold%?)
      - match: (%?OPCODE_golem_stoneskin%?)
      - match: (%?OPCODE_haste%?)
      - match: (%?OPCODE_haste_2%?)
      - match: (%?OPCODE_hide_in_shadows_mod%?)
      - match: (%?OPCODE_hold%?)
      - match: (%?OPCODE_hold3%?)
      - match: (%?OPCODE_hold_2%?)
      - match: (%?OPCODE_horror%?)
      - match: (%?OPCODE_hp_current_hp_mod%?)
      - match: (%?OPCODE_hp_damage%?)
      - match: (%?OPCODE_hp_maximum_hp_mod%?)
      - match: (%?OPCODE_hp_minimum_limit%?)
      - match: (%?OPCODE_hp_regeneration%?)
      - match: (%?OPCODE_identify%?)
      - match: (%?OPCODE_ids_set_ids_state%?)
      - match: (%?OPCODE_ids_sex_change%?)
      - match: (%?OPCODE_ignore_dialog_pause%?)
      - match: (%?OPCODE_image_projection%?)
      - match: (%?OPCODE_immunity_school_decrement%?)
      - match: (%?OPCODE_immunity_secondary_type_decrement%?)
      - match: (%?OPCODE_immunity_to_turn%?)
      - match: (%?OPCODE_imprisonment%?)
      - match: (%?OPCODE_infravision%?)
      - match: (%?OPCODE_instant_death%?)
      - match: (%?OPCODE_intelligence_mod%?)
      - match: (%?OPCODE_invisibility%?)
      - match: (%?OPCODE_invisible_detection_by%?)
      - match: (%?OPCODE_knock%?)
      - match: (%?OPCODE_learn_spell%?)
      - match: (%?OPCODE_level_change%?)
      - match: (%?OPCODE_level_drain%?)
      - match: (%?OPCODE_lighting_effects%?)
      - match: (%?OPCODE_lore_mod%?)
      - match: (%?OPCODE_luck_non_cumulative%?)
      - match: (%?OPCODE_magic_damage_resist_mod%?)
      - match: (%?OPCODE_magic_resist_mod%?)
      - match: (%?OPCODE_magical_cold_resist_mod%?)
      - match: (%?OPCODE_magical_fire_resist_mod%?)
      - match: (%?OPCODE_magical_rest%?)
      - match: (%?OPCODE_mass_raise_dead%?)
      - match: (%?OPCODE_maze%?)
      - match: (%?OPCODE_melee_thac0_mod%?)
      - match: (%?OPCODE_melee_weapon_damage_mod%?)
      - match: (%?OPCODE_mirror_image%?)
      - match: (%?OPCODE_mirror_image_exact_number%?)
      - match: (%?OPCODE_miscast_magic%?)
      - match: (%?OPCODE_missile_weapon_damage_mod%?)
      - match: (%?OPCODE_missiles_resist_mod%?)
      - match: (%?OPCODE_monster_summoning%?)
      - match: (%?OPCODE_morale_break_mod%?)
      - match: (%?OPCODE_morale_mod%?)
      - match: (%?OPCODE_movement_mod%?)
      - match: (%?OPCODE_movement_mod_2%?)
      - match: (%?OPCODE_negative_chant%?)
      - match: (%?OPCODE_non_detection%?)
      - match: (%?OPCODE_npcbump%?)
      - match: (%?OPCODE_open_locks_mod%?)
      - match: (%?OPCODE_overlay_blur%?)
      - match: (%?OPCODE_overlay_entangle%?)
      - match: (%?OPCODE_overlay_grease%?)
      - match: (%?OPCODE_overlay_minor_globe%?)
      - match: (%?OPCODE_overlay_protection_from_normal_missiles%?)
      - match: (%?OPCODE_overlay_sanctuary%?)
      - match: (%?OPCODE_passwall%?)
      - match: (%?OPCODE_pause_target%?)
      - match: (%?OPCODE_petrification%?)
      - match: (%?OPCODE_pick_pockets_mod%?)
      - match: (%?OPCODE_piercing_resist_mod%?)
      - match: (%?OPCODE_play_3d_effect%?)
      - match: (%?OPCODE_play_damage_animation%?)
      - match: (%?OPCODE_play_movie%?)
      - match: (%?OPCODE_play_sound_effect%?)
      - match: (%?OPCODE_poison%?)
      - match: (%?OPCODE_poison_resist_mod%?)
      - match: (%?OPCODE_polymorph_into_specific%?)
      - match: (%?OPCODE_portrait_change%?)
      - match: (%?OPCODE_positive_chant%?)
      - match: (%?OPCODE_prevent_special_effect_icon%?)
      - match: (%?OPCODE_priest_spell_slots_mod%?)
      - match: (%?OPCODE_proficiency_mod%?)
      - match: (%?OPCODE_protection_backstab%?)
      - match: (%?OPCODE_protection_free_action%?)
      - match: (%?OPCODE_protection_freedom%?)
      - match: (%?OPCODE_protection_from_creature_type%?)
      - match: (%?OPCODE_protection_from_detection%?)
      - match: (%?OPCODE_protection_from_display_specific_string%?)
      - match: (%?OPCODE_protection_from_melee_weapons%?)
      - match: (%?OPCODE_protection_from_opcode%?)
      - match: (%?OPCODE_protection_from_projectile%?)
      - match: (%?OPCODE_protection_from_specific_animation%?)
      - match: (%?OPCODE_protection_from_spell%?)
      - match: (%?OPCODE_protection_from_spell_levels%?)
      - match: (%?OPCODE_protection_from_spell_school%?)
      - match: (%?OPCODE_protection_from_spell_secondary_type%?)
      - match: (%?OPCODE_protection_from_timestop%?)
      - match: (%?OPCODE_protection_from_tracking%?)
      - match: (%?OPCODE_protection_spell_trap%?)
      - match: (%?OPCODE_protection_stoneskin%?)
      - match: (%?OPCODE_puppet_id%?)
      - match: (%?OPCODE_raise_dead%?)
      - match: (%?OPCODE_raise_str_con_dex_non_cumulative%?)
      - match: (%?OPCODE_random_wish_spell%?)
      - match: (%?OPCODE_ranger_tracking_ability%?)
      - match: (%?OPCODE_remove_creature%?)
      - match: (%?OPCODE_remove_curse%?)
      - match: (%?OPCODE_remove_infravision%?)
      - match: (%?OPCODE_remove_inventory_item%?)
      - match: (%?OPCODE_remove_item%?)
      - match: (%?OPCODE_remove_map_marker%?)
      - match: (%?OPCODE_remove_one_school%?)
      - match: (%?OPCODE_remove_one_secondary_type%?)
      - match: (%?OPCODE_remove_protection_from_spell%?)
      - match: (%?OPCODE_remove_sanctuary%?)
      - match: (%?OPCODE_remove_school%?)
      - match: (%?OPCODE_remove_secondary_type%?)
      - match: (%?OPCODE_remove_special_effect_icon%?)
      - match: (%?OPCODE_remove_specific_area_effect%?)
      - match: (%?OPCODE_remove_spell%?)
      - match: (%?OPCODE_replace_creature%?)
      - match: (%?OPCODE_reputation%?)
      - match: (%?OPCODE_restoration%?)
      - match: (%?OPCODE_restore_lost_spells%?)
      - match: (%?OPCODE_reveal_area%?)
      - match: (%?OPCODE_reveal_magic%?)
      - match: (%?OPCODE_save_vs_breath_weapons%?)
      - match: (%?OPCODE_save_vs_death_mod%?)
      - match: (%?OPCODE_save_vs_petrification%?)
      - match: (%?OPCODE_save_vs_polymorph_mod%?)
      - match: (%?OPCODE_save_vs_spells_mod%?)
      - match: (%?OPCODE_save_vs_wands_mod%?)
      - match: (%?OPCODE_script_enable_offscreen_ai%?)
      - match: (%?OPCODE_script_modify_global_variable%?)
      - match: (%?OPCODE_script_modify_local_variable%?)
      - match: (%?OPCODE_script_movetoarea%?)
      - match: (%?OPCODE_script_scripting_state_mod%?)
      - match: (%?OPCODE_script_store_local_variable%?)
      - match: (%?OPCODE_select_spell%?)
      - match: (%?OPCODE_selection_circle_removal%?)
      - match: (%?OPCODE_set_ai_script%?)
      - match: (%?OPCODE_set_melee_effect%?)
      - match: (%?OPCODE_set_ranged_effect%?)
      - match: (%?OPCODE_set_stat_tobex%?)
      - match: (%?OPCODE_set_trap%?)
      - match: (%?OPCODE_set_traps_mod%?)
      - match: (%?OPCODE_shake_window%?)
      - match: (%?OPCODE_silence%?)
      - match: (%?OPCODE_slashing_resist_mod%?)
      - match: (%?OPCODE_slow%?)
      - match: (%?OPCODE_sparkle%?)
      - match: (%?OPCODE_spell_sequencer_activation%?)
      - match: (%?OPCODE_spell_sequencer_active%?)
      - match: (%?OPCODE_spell_sequencer_creation%?)
      - match: (%?OPCODE_stat_wild_magic_mod%?)
      - match: (%?OPCODE_state_berserking%?)
      - match: (%?OPCODE_stealth_mod%?)
      - match: (%?OPCODE_strength_bonus_mod%?)
      - match: (%?OPCODE_strength_mod%?)
      - match: (%?OPCODE_stun%?)
      - match: (%?OPCODE_stun_90hp%?)
      - match: (%?OPCODE_teleport%?)
      - match: (%?OPCODE_teleport_field%?)
      - match: (%?OPCODE_teleport_to_target%?)
      - match: (%?OPCODE_text_change_name%?)
      - match: (%?OPCODE_text_change_title%?)
      - match: (%?OPCODE_text_display_string%?)
      - match: (%?OPCODE_thac0_mod%?)
      - match: (%?OPCODE_thac0_mod_off_hand%?)
      - match: (%?OPCODE_thac0_mod_on_hand%?)
      - match: (%?OPCODE_thac0_mod_with_missile%?)
      - match: (%?OPCODE_thac0_vs_creature%?)
      - match: (%?OPCODE_time_stop%?)
      - match: (%?OPCODE_to_hit_mod%?)
      - match: (%?OPCODE_tracking_skill_mod%?)
      - match: (%?OPCODE_transparency_fade%?)
      - match: (%?OPCODE_unconsciousness%?)
      - match: (%?OPCODE_unconsciousness_20hp%?)
      - match: (%?OPCODE_unlock%?)
      - match: (%?OPCODE_unstun%?)
      - match: (%?OPCODE_unsummon_creature%?)
      - match: (%?OPCODE_use_eff_file%?)
      - match: (%?OPCODE_use_eff_file_cursed%?)
      - match: (%?OPCODE_visual_range%?)
      - match: (%?OPCODE_vocalize%?)
      - match: (%?OPCODE_web_effect%?)
      - match: (%?OPCODE_wing_buffet%?)
      - match: (%?OPCODE_wisdom_mod%?)
      - match: (%?OPCODE_wizard_spell_slots_mod%?)
      - match: (%?OPCODE_zone_of_sweet_air%?)
      - match: (%?PAIN%?)
      - match: (%?PALADIN_CURE_DISEASE%?)
      - match: (%?PALADIN_DETECT_EVIL%?)
      - match: (%?PALADIN_LAY_ON_HANDS%?)
      - match: (%?PALADIN_PROTECTION_FROM_EVIL%?)
      - match: (%?PALADIN_SMITE_EVIL%?)
      - match: (%?PALADIN_SUMMON_DEVA%?)
      - match: (%?PERM_CHARM%?)
      - match: (%?PHASE_SPIDER_TELEPORT%?)
      - match: (%?PLAYER1_WORD_OF_POWER%?)
      - match: (%?PLAYER_WEREWOLF_CHANGE%?)
      - match: (%?POISONOUS_CLOUD%?)
      - match: (%?POISON_NO_SAVE%?)
      - match: (%?POOF_GONE%?)
      - match: (%?POWERWORD_BLIND%?)
      - match: (%?POWERWORD_KILL%?)
      - match: (%?POWERWORD_STUN%?)
      - match: (%?POWER_AMP%?)
      - match: (%?PROTECTION_MAGIC_WEAPON_NOEFF%?)
      - match: (%?PSIONIC_BALLISTIC%?)
      - match: (%?PSIONIC_CONTROL_BODY%?)
      - match: (%?PSIONIC_DETONATE%?)
      - match: (%?PSIONIC_DIMENSION_WALK%?)
      - match: (%?PSIONIC_DISINTEGRATE%?)
      - match: (%?PSIONIC_DOMINATION%?)
      - match: (%?PSIONIC_EGOWHIP%?)
      - match: (%?PSIONIC_EMOTION_KILL%?)
      - match: (%?PSIONIC_ID_INSINUATION%?)
      - match: (%?PSIONIC_INERTIAL_BARRIER%?)
      - match: (%?PSIONIC_INFLICT_PAIN%?)
      - match: (%?PSIONIC_LIFE_DRAIN%?)
      - match: (%?PSIONIC_MAZE%?)
      - match: (%?PSIONIC_MIND_BLAST%?)
      - match: (%?PSIONIC_PROJECT_FORCE%?)
      - match: (%?PSIONIC_SUPERIOR_INVISIBILITY%?)
      - match: (%?PSIONIC_TASTE_LINK%?)
      - match: (%?PSIONIC_TELEKINESIS%?)
      - match: (%?QUEEN_CHANGE%?)
      - match: (%?QUICK_INVISIBLE%?)
      - match: (%?QUICK_TELEPORT%?)
      - match: (%?RABBIT_POWER%?)
      - match: (%?RAELIS_OPEN_PORTAL%?)
      - match: (%?RAISSA_RESTORE%?)
      - match: (%?RANGER_CHARM_ANIMAL%?)
      - match: (%?RANGER_TRACKING%?)
      - match: (%?RED_DRAGON_BREATH%?)
      - match: (%?RED_DRAGON_HIT%?)
      - match: (%?RED_FIREBALL%?)
      - match: (%?RED_HOLY_MIGHT%?)
      - match: (%?RED_PILLAR_VISUAL%?)
      - match: (%?RED_SWIRL%?)
      - match: (%?REMOVE_NON_PERMANENT_DEATH%?)
      - match: (%?REPULSE_X%?)
      - match: (%?RESIST_FEAR%?)
      - match: (%?RESTORATION_IGNORE_RESIST%?)
      - match: (%?RESTORE_FULL_HEALTH%?)
      - match: (%?RESTORE_FULL_HEALTH_PARTY%?)
      - match: (%?REVENANT_CHANGE%?)
      - match: (%?RISE_FROM_ASH%?)
      - match: (%?ROGUE_ASSASINATION%?)
      - match: (%?ROGUE_AVOID_DEATH%?)
      - match: (%?ROGUE_EVASION%?)
      - match: (%?ROGUE_GREATER_EVASION%?)
      - match: (%?ROGUE_SET_EXPLODING_TRAP%?)
      - match: (%?ROGUE_SET_SPIKE_TRAP%?)
      - match: (%?ROGUE_SET_TIME_TRAP%?)
      - match: (%?SAFANA_CHARM%?)
      - match: (%?SALAMANDER_BREATHE_FIREBALL%?)
      - match: (%?SAND_DIE%?)
      - match: (%?SAREVOK_FLASHY1%?)
      - match: (%?SAREVOK_SOULSTEAL%?)
      - match: (%?SAREVOK_STRIKE%?)
      - match: (%?SAR_DIVINATION%?)
      - match: (%?SAVINGTHROW_breath%?)
      - match: (%?SAVINGTHROW_bypass_mirror_image%?)
      - match: (%?SAVINGTHROW_death%?)
      - match: (%?SAVINGTHROW_ignore_difficulty%?)
      - match: (%?SAVINGTHROW_ignore_primary_target%?)
      - match: (%?SAVINGTHROW_ignore_secondary_target%?)
      - match: (%?SAVINGTHROW_polymorph%?)
      - match: (%?SAVINGTHROW_spell%?)
      - match: (%?SAVINGTHROW_wand%?)
      - match: (%?SEA_TROLL_CHANGE%?)
      - match: (%?SENDAI_CHANGE%?)
      - match: (%?SET_SNARE_ENEMY%?)
      - match: (%?SET_SNARE_TRAP%?)
      - match: (%?SET_SPECIAL_SNARE_TRAP%?)
      - match: (%?SEVEN_EYES_FORTITUDE%?)
      - match: (%?SEVEN_EYES_MAGE%?)
      - match: (%?SEVEN_EYES_MIND%?)
      - match: (%?SEVEN_EYES_SPIRIT%?)
      - match: (%?SEVEN_EYES_STONE%?)
      - match: (%?SEVEN_EYES_SWORD%?)
      - match: (%?SEVEN_EYES_VENOM%?)
      - match: (%?SHADOWDANCER_SHADOW_FORM%?)
      - match: (%?SHADOWDANCER_SHADOW_MAZE%?)
      - match: (%?SHADOWDANCER_SHADOW_TWIN%?)
      - match: (%?SHADOW_DRAGON_BREATH%?)
      - match: (%?SHADOW_DRAGON_SHADOWS%?)
      - match: (%?SHADOW_DRAIN%?)
      - match: (%?SHAMAN_FAVORED_OF_THE_SPIRITS%?)
      - match: (%?SHAMAN_SPIRIT_FORM%?)
      - match: (%?SHAPECHANGE_EARTH_ELEMENTAL%?)
      - match: (%?SHAPECHANGE_FIRE_ELEMENTAL%?)
      - match: (%?SHAPECHANGE_GIANT_TROLL%?)
      - match: (%?SHAPECHANGE_GREATER_WOLFWERE%?)
      - match: (%?SHAPECHANGE_IRON_GOLEM%?)
      - match: (%?SHAPECHANGE_MIND_FLAYER%?)
      - match: (%?SHAPECHANGE_WATER_ELEMENTAL%?)
      - match: (%?SHAPESHIFTER_SHAPESHIFT_GREATERWEREWOLF%?)
      - match: (%?SHAPESHIFTER_SHAPESHIFT_NATURAL_FORM%?)
      - match: (%?SHAPESHIFTER_SHAPESHIFT_WEREWOLF%?)
      - match: (%?SHAPESHIFT_NATURAL_FORM_1%?)
      - match: (%?SHAPESHIFT_NATURAL_FORM_2%?)
      - match: (%?SHOAL_REVIVE%?)
      - match: (%?SILVER_DRAGON_BREATH_COLD%?)
      - match: (%?SILVER_DRAGON_BREATH_PARALIZATION%?)
      - match: (%?SIRINE_DIRE_CHARM%?)
      - match: (%?SIRINE_TELEPORT_FAKE%?)
      - match: (%?SKIN_DANCER_RESTORE%?)
      - match: (%?SKIN_DANCER_RESTORE_2%?)
      - match: (%?SKIN_DANCER_SWITCH%?)
      - match: (%?SKULL_EXPLODE%?)
      - match: (%?SLAVE_CHUNK%?)
      - match: (%?SLAYER_BACK_TO_HUMAN%?)
      - match: (%?SLAYER_BACK_TO_HUMAN_NOVIS%?)
      - match: (%?SLAYER_CHANGE%?)
      - match: (%?SLAYER_CHANGE_CUT_SCENE%?)
      - match: (%?SLAYER_CHANGE_TWO%?)
      - match: (%?SLAYER_ENEMY%?)
      - match: (%?SLAYER_FEAR%?)
      - match: (%?SLAYER_IMMUNE_TO_DAMAGE%?)
      - match: (%?SLAYER_START%?)
      - match: (%?SLOW_FREEZE%?)
      - match: (%?SMALL_DAMAGE_SPELL%?)
      - match: (%?SNAKE_GAZE%?)
      - match: (%?SPECIAL_SWEET_AIR%?)
      - match: (%?SPELL_DEFLECTION_NO_VISUAL%?)
      - match: (%?SPIDER_CHANGE%?)
      - match: (%?SPIDER_SUMMON%?)
      - match: (%?SPL_casting_feature_block_count%?)
      - match: (%?SPL_casting_feature_block_offset%?)
      - match: (%?SPL_casting_graphics%?)
      - match: (%?SPL_completion_sound%?)
      - match: (%?SPL_exclusion_flags%?)
      - match: (%?SPL_ext_header_count%?)
      - match: (%?SPL_ext_header_offset%?)
      - match: (%?SPL_feature_block_offset%?)
      - match: (%?SPL_flags%?)
      - match: (%?SPL_icon%?)
      - match: (%?SPL_level%?)
      - match: (%?SPL_sectype%?)
      - match: (%?SPL_type%?)
      - match: (%?SPORE_DEATH%?)
      - match: (%?SUCCUBUS_CHARM_FEMALE%?)
      - match: (%?SUCCUBUS_CHARM_MALE%?)
      - match: (%?SUCCUBUS_ENERGY_DRAIN%?)
      - match: (%?SUCCUBUS_ETHEREAL%?)
      - match: (%?SUCCUBUS_KISS%?)
      - match: (%?SUCCUBUS_TELEPORT%?)
      - match: (%?SUMMONED_MIND%?)
      - match: (%?SUMMON_DEATH_KNIGHT%?)
      - match: (%?SUMMON_DEVIL_SHADE%?)
      - match: (%?SUMMON_DJINN_TRAP%?)
      - match: (%?SUMMON_FIRE_ELEMENTAL%?)
      - match: (%?SUMMON_FUNGUS%?)
      - match: (%?SUMMON_ICE_SALAMANDER%?)
      - match: (%?SUMMON_INFERNAL_HOST%?)
      - match: (%?SUMMON_PIT_FIEND%?)
      - match: (%?SUMMON_POISON%?)
      - match: (%?SUMMON_SHADOW%?)
      - match: (%?SUMMON_SHADOW_WOLF%?)
      - match: (%?SUMMON_SKELETON_WARRIOR%?)
      - match: (%?SUMMON_SKELETON_WARRIOR2%?)
      - match: (%?SUMMON_SKELETON_WARRIOR3%?)
      - match: (%?SUN_SOUL_FLAMING_FISTS%?)
      - match: (%?SUN_SOUL_GREATER_SUN%?)
      - match: (%?SUN_SOUL_SUN_SOULBEAM%?)
      - match: (%?SUN_SOUL_SUN_SOULRAY%?)
      - match: (%?SURE_SLEEP%?)
      - match: (%?SURE_STONED%?)
      - match: (%?SURE_STONE_SHATTER%?)
      - match: (%?SWOOSH_GONE%?)
      - match: (%?TALOS_LIGHTNING_BOLT%?)
      - match: (%?TALOS_STORMSHIELD%?)
      - match: (%?TANARI_CHANGE%?)
      - match: (%?TANARI_DEATH_GAZE%?)
      - match: (%?TANARI_PARALYZE%?)
      - match: (%?TANARI_SILENCE%?)
      - match: (%?TANARI_VAMPIRIC_TOUCH%?)
      - match: (%?TANOVA_MIST_FORM_CHANGE%?)
      - match: (%?TARGET_FB_everyone%?)
      - match: (%?TARGET_FB_everyone_except_party%?)
      - match: (%?TARGET_FB_everyone_except_self%?)
      - match: (%?TARGET_FB_everyone_match_specific_caster%?)
      - match: (%?TARGET_FB_everyone_match_specific_target%?)
      - match: (%?TARGET_FB_none%?)
      - match: (%?TARGET_FB_original_caster%?)
      - match: (%?TARGET_FB_party%?)
      - match: (%?TARGET_FB_preset%?)
      - match: (%?TARGET_FB_self%?)
      - match: (%?TARGET_HEADER_area%?)
      - match: (%?TARGET_HEADER_character_portrait%?)
      - match: (%?TARGET_HEADER_creature%?)
      - match: (%?TARGET_HEADER_self%?)
      - match: (%?TARGET_HEADER_self_ignore_pause%?)
      - match: (%?THIEF_DETECT_ILLUSION%?)
      - match: (%?THIEF_SET_SNARE%?)
      - match: (%?THIEF_SET_SPECIAL_SNARE%?)
      - match: (%?THIEF_STEALTH%?)
      - match: (%?THREE_ROUND_ENCHANTMENT_IMMUNITY%?)
      - match: (%?TIMING_absolute_duration%?)
      - match: (%?TIMING_delayed%?)
      - match: (%?TIMING_delayed_duration%?)
      - match: (%?TIMING_duration%?)
      - match: (%?TIMING_duration_ticks%?)
      - match: (%?TIMING_permanent%?)
      - match: (%?TIMING_permanent_after_death%?)
      - match: (%?TIMING_while_equipped%?)
      - match: (%?TOTEMIC_DRUID_SUMMON_SPIRIT_ANIMAL%?)
      - match: (%?TRANSFORMATION_DEATH%?)
      - match: (%?TRAP_ARROW%?)
      - match: (%?TRAP_ARROW_ACID%?)
      - match: (%?TRAP_ARROW_BITING%?)
      - match: (%?TRAP_ARROW_DETONATION%?)
      - match: (%?TRAP_ARROW_DISPELLING%?)
      - match: (%?TRAP_ARROW_FIRE%?)
      - match: (%?TRAP_ARROW_ICE%?)
      - match: (%?TRAP_ARROW_PIERCING%?)
      - match: (%?TRAP_ARROW_SLAYING%?)
      - match: (%?TRAP_CALL_LIGHTNING%?)
      - match: (%?TRAP_CHROMATIC_ORB%?)
      - match: (%?TRAP_CLOUDKILL%?)
      - match: (%?TRAP_CONFUSION%?)
      - match: (%?TRAP_DARTS%?)
      - match: (%?TRAP_DEATH_FOG%?)
      - match: (%?TRAP_DIRE_CHARM%?)
      - match: (%?TRAP_DISEASE_DARTS%?)
      - match: (%?TRAP_FINGER_OF_DEATH%?)
      - match: (%?TRAP_FIREBALL%?)
      - match: (%?TRAP_FIREBALL_4D6%?)
      - match: (%?TRAP_FLAMESTRIKE%?)
      - match: (%?TRAP_FLESH_TO_STONE%?)
      - match: (%?TRAP_FROST%?)
      - match: (%?TRAP_GLYPH_OF_WARDING%?)
      - match: (%?TRAP_GUILLOTINE%?)
      - match: (%?TRAP_HALLWAY_SPIKES%?)
      - match: (%?TRAP_HOLD_PERSON%?)
      - match: (%?TRAP_HORROR%?)
      - match: (%?TRAP_LIGHTNING_BOLT%?)
      - match: (%?TRAP_LIGHTNING_ORB1%?)
      - match: (%?TRAP_LIGHTNING_ORB2%?)
      - match: (%?TRAP_LIGHTNING_ORB3%?)
      - match: (%?TRAP_MAGIC_MISSILE%?)
      - match: (%?TRAP_MAGIC_MISSILE_5%?)
      - match: (%?TRAP_MINOR_LIGHTNING_BOLT%?)
      - match: (%?TRAP_MISCAST_MAGIC%?)
      - match: (%?TRAP_MONSTER_SUMMONING%?)
      - match: (%?TRAP_MUCK%?)
      - match: (%?TRAP_POISON_CONFUSION_DARTS%?)
      - match: (%?TRAP_POISON_DAMAGE_DARTS%?)
      - match: (%?TRAP_POISON_PARALYZATION_DARTS%?)
      - match: (%?TRAP_SHADOW_DEATH%?)
      - match: (%?TRAP_SILENCE%?)
      - match: (%?TRAP_SLEEP%?)
      - match: (%?TRAP_SLIME%?)
      - match: (%?TRAP_SPEAR%?)
      - match: (%?TRAP_STINKING_CLOUD%?)
      - match: (%?TRAP_UNDERWATER_BITE%?)
      - match: (%?TRAP_VENT%?)
      - match: (%?TROLL_CHANGE%?)
      - match: (%?TROLL_CHANGE_NITHIRI%?)
      - match: (%?TROLL_DESERT_CHANGE%?)
      - match: (%?TROLL_FIRE_CHANGE%?)
      - match: (%?TROLL_FRESHWATER_CHANGE%?)
      - match: (%?TROLL_GIANT_CHANGE%?)
      - match: (%?TROLL_HEAL_ONE_HIT_POINT%?)
      - match: (%?TROLL_ICE_CHANGE%?)
      - match: (%?TROLL_RAT_SPAWN%?)
      - match: (%?TROLL_SETHP1%?)
      - match: (%?TROLL_SLEEP%?)
      - match: (%?TROLL_SMALL_CHANGE%?)
      - match: (%?TROLL_SNOW_CHANGE%?)
      - match: (%?TROLL_SPECTRAL_CHANGE%?)
      - match: (%?TROLL_SPIRIT_CHANGE%?)
      - match: (%?ULITHARID_CURE_SERIOUS_WOUNDS%?)
      - match: (%?ULITHARID_PSIONIC_BLAST%?)
      - match: (%?UNDER_NORM%?)
      - match: (%?UNDER_SQUIRREL%?)
      - match: (%?UNPAUSE_CASTER%?)
      - match: (%?VALEN_MIST_FORM_CHANGE%?)
      - match: (%?VAMPIRE_BAT_FORM_CHANGE%?)
      - match: (%?VAMPIRE_DOMINATION%?)
      - match: (%?VAMPIRE_FEAR%?)
      - match: (%?VAMPIRE_FORM_CHANGE%?)
      - match: (%?VAMPIRE_GAS_FORM_CHANGE%?)
      - match: (%?VIEKANG_LIGHTNING%?)
      - match: (%?VORTEX_WEB%?)
      - match: (%?WARRIOR_CRITICAL_STRIKE%?)
      - match: (%?WARRIOR_DEATHBLOW%?)
      - match: (%?WARRIOR_GREATER_DEATHBLOW%?)
      - match: (%?WARRIOR_GREATER_WHIRLWIND%?)
      - match: (%?WARRIOR_HARDINESS%?)
      - match: (%?WARRIOR_POWER_ATTACK%?)
      - match: (%?WARRIOR_RESIST_MAGIC%?)
      - match: (%?WARRIOR_SMITE%?)
      - match: (%?WARRIOR_WAR_CRY%?)
      - match: (%?WARRIOR_WHIRLWIND%?)
      - match: (%?WEREWOLF_CHANGE%?)
      - match: (%?WHITE_HOLY_MIGHT%?)
      - match: (%?WILD_MAGIC_AREA%?)
      - match: (%?WILD_MAGIC_ZONE%?)
      - match: (%?WISH_GLOBE%?)
      - match: (%?WISH_HEAL_PARTY%?)
      - match: (%?WISH_LOSE_SPELL%?)
      - match: (%?WISH_MEMORIZE%?)
      - match: (%?WISH_PLANE%?)
      - match: (%?WISH_POISON%?)
      - match: (%?WISH_RABBIT%?)
      - match: (%?WISH_SPELL_FAILURE%?)
      - match: (%?WIZARD_ABI_DALZIMS_HORRID_WILTING%?)
      - match: (%?WIZARD_ABSOLUTE_IMMUNITY%?)
      - match: (%?WIZARD_ACID_STORM%?)
      - match: (%?WIZARD_AGANNAZAR_SCORCHER%?)
      - match: (%?WIZARD_ALARM%?)
      - match: (%?WIZARD_ANIMATE_DEAD%?)
      - match: (%?WIZARD_ANIMATE_DEAD_LICH%?)
      - match: (%?WIZARD_ANTIMAGIC_SHELL%?)
      - match: (%?WIZARD_ARMOR%?)
      - match: (%?WIZARD_BELTYNS_BURNING_BLOOD%?)
      - match: (%?WIZARD_BIGBYS_CLENCHED_FIST%?)
      - match: (%?WIZARD_BIGBYS_CRUSHING_HAND%?)
      - match: (%?WIZARD_BLACK_BLADE_OF_DISASTER%?)
      - match: (%?WIZARD_BLINDNESS%?)
      - match: (%?WIZARD_BLIND_OLD%?)
      - match: (%?WIZARD_BLUR%?)
      - match: (%?WIZARD_BREACH%?)
      - match: (%?WIZARD_BURNING_HANDS%?)
      - match: (%?WIZARD_CACOFIEND%?)
      - match: (%?WIZARD_CAE_OLD%?)
      - match: (%?WIZARD_CARRION%?)
      - match: (%?WIZARD_CATS_GRACE%?)
      - match: (%?WIZARD_CEE_OLD%?)
      - match: (%?WIZARD_CFE_OLD%?)
      - match: (%?WIZARD_CHAIN_CONTINGENCY%?)
      - match: (%?WIZARD_CHAIN_LIGHTNING%?)
      - match: (%?WIZARD_CHAOS%?)
      - match: (%?WIZARD_CHAOS_SHIELD%?)
      - match: (%?WIZARD_CHAOS_VISUALS_ONLY%?)
      - match: (%?WIZARD_CHARM_PERSON%?)
      - match: (%?WIZARD_CHILL_TOUCH%?)
      - match: (%?WIZARD_CHROMATIC_ORB%?)
      - match: (%?WIZARD_CLAIRVOYANCE%?)
      - match: (%?WIZARD_CLOUDKILL%?)
      - match: (%?WIZARD_COLOR_SPRAY%?)
      - match: (%?WIZARD_COMET%?)
      - match: (%?WIZARD_CONE_OF_COLD%?)
      - match: (%?WIZARD_CONFUSION%?)
      - match: (%?WIZARD_CONJURE_AIR_ELEMENTAL%?)
      - match: (%?WIZARD_CONJURE_EARTH_ELEMENTAL%?)
      - match: (%?WIZARD_CONJURE_EARTH_ELEMENTAL_MALAVON%?)
      - match: (%?WIZARD_CONJURE_FIRE_ELEMENTAL%?)
      - match: (%?WIZARD_CONJURE_LESSER_AIR_ELEMENTAL%?)
      - match: (%?WIZARD_CONJURE_LESSER_EARTH_ELEMENTAL%?)
      - match: (%?WIZARD_CONJURE_LESSER_FIRE_ELEMENTAL%?)
      - match: (%?WIZARD_CONJURE_WATER_ELEMENTAL%?)
      - match: (%?WIZARD_CONTACT_OTHER_PLANE%?)
      - match: (%?WIZARD_CONTAGION%?)
      - match: (%?WIZARD_CONTINGENCY%?)
      - match: (%?WIZARD_CONTROL_UNDEAD%?)
      - match: (%?WIZARD_CWE_OLD%?)
      - match: (%?WIZARD_DANCING_LIGHTS%?)
      - match: (%?WIZARD_DARKNESS_15_FOOT%?)
      - match: (%?WIZARD_DARTS_OF_BONE%?)
      - match: (%?WIZARD_DEAFNESS%?)
      - match: (%?WIZARD_DEATH_FOG%?)
      - match: (%?WIZARD_DEATH_SPELL%?)
      - match: (%?WIZARD_DECASTAVE%?)
      - match: (%?WIZARD_DELAYED_BLAST_FIREBALL%?)
      - match: (%?WIZARD_DEMI_SHADOW_MONSTERS%?)
      - match: (%?WIZARD_DETECT_EVIL%?)
      - match: (%?WIZARD_DETECT_ILLUSION%?)
      - match: (%?WIZARD_DETECT_INVISIBILITY%?)
      - match: (%?WIZARD_DIMENSION_DOOR%?)
      - match: (%?WIZARD_DIRE_CHARM%?)
      - match: (%?WIZARD_DISINTEGRATE%?)
      - match: (%?WIZARD_DISINTEGRATE2_IGNORE_RESISTANCE%?)
      - match: (%?WIZARD_DISINTEGRATE_IGNORE_RESISTANCE%?)
      - match: (%?WIZARD_DISPEL_MAGIC%?)
      - match: (%?WIZARD_DISPEL_MAGIC_VISUALS_ONLY%?)
      - match: (%?WIZARD_DOMINATION%?)
      - match: (%?WIZARD_DRAGONS_BREATH%?)
      - match: (%?WIZARD_EMOTION_COURAGE%?)
      - match: (%?WIZARD_EMOTION_FEAR%?)
      - match: (%?WIZARD_EMOTION_HOPE%?)
      - match: (%?WIZARD_EMOTION_HOPELESSNESS%?)
      - match: (%?WIZARD_ENCHANTED_WEAPON%?)
      - match: (%?WIZARD_ENERGY_BLADES%?)
      - match: (%?WIZARD_ENERGY_DRAIN%?)
      - match: (%?WIZARD_EXPEDITIOUS_RETREAT%?)
      - match: (%?WIZARD_EYE%?)
      - match: (%?WIZARD_FAR_SIGHT%?)
      - match: (%?WIZARD_FEEBLEMIND%?)
      - match: (%?WIZARD_FIND_FAMILAR%?)
      - match: (%?WIZARD_FINGER_OF_DEATH%?)
      - match: (%?WIZARD_FINGER_OF_DEATH_IGNORE_RESISTANCE%?)
      - match: (%?WIZARD_FIREBALL%?)
      - match: (%?WIZARD_FIRE_SHIELD_BLUE%?)
      - match: (%?WIZARD_FIRE_SHIELD_RED%?)
      - match: (%?WIZARD_FLAME_ARROW%?)
      - match: (%?WIZARD_FLESH_TO_STONE%?)
      - match: (%?WIZARD_FLESH_TO_STONE_IGNORE_RESISTANCE%?)
      - match: (%?WIZARD_FREEDOM%?)
      - match: (%?WIZARD_FRIENDS%?)
      - match: (%?WIZARD_GATE%?)
      - match: (%?WIZARD_GHOST_ARMOR%?)
      - match: (%?WIZARD_GHOUL_TOUCH%?)
      - match: (%?WIZARD_GLITTERDUST%?)
      - match: (%?WIZARD_GLOBE_OF_INVULNERABILITY%?)
      - match: (%?WIZARD_GREASE%?)
      - match: (%?WIZARD_GREATER_MALISON%?)
      - match: (%?WIZARD_GREAT_SHOUT%?)
      - match: (%?WIZARD_HASTE%?)
      - match: (%?WIZARD_HOLD_MONSTER%?)
      - match: (%?WIZARD_HOLD_PERSON%?)
      - match: (%?WIZARD_HOLD_UNDEAD%?)
      - match: (%?WIZARD_HORROR%?)
      - match: (%?WIZARD_ICELANCE%?)
      - match: (%?WIZARD_ICE_STORM%?)
      - match: (%?WIZARD_IDENTIFY%?)
      - match: (%?WIZARD_IMPRISONMENT%?)
      - match: (%?WIZARD_IMPROVED_ALACRITY%?)
      - match: (%?WIZARD_IMPROVED_ALUCRITY%?)
      - match: (%?WIZARD_IMPROVED_CHAOS_SHIELD%?)
      - match: (%?WIZARD_IMPROVED_HASTE%?)
      - match: (%?WIZARD_IMPROVED_INVISIBILITY%?)
      - match: (%?WIZARD_IMPROVED_MANTLE%?)
      - match: (%?WIZARD_INCENDIARY_CLOUD%?)
      - match: (%?WIZARD_INFRAVISION%?)
      - match: (%?WIZARD_INVISIBILITY%?)
      - match: (%?WIZARD_INVISIBILITY_10_FOOT%?)
      - match: (%?WIZARD_INVISIBLE_STALKER%?)
      - match: (%?WIZARD_IRON_BODY%?)
      - match: (%?WIZARD_KNOCK%?)
      - match: (%?WIZARD_KNOW_ALIGNMENT%?)
      - match: (%?WIZARD_LANCE_OF_DISRUPTION%?)
      - match: (%?WIZARD_LARLOCH_MINOR_DRAIN%?)
      - match: (%?WIZARD_LICH_TOUCH%?)
      - match: (%?WIZARD_LIGHTNING_BOLT%?)
      - match: (%?WIZARD_LIMITED_WISH%?)
      - match: (%?WIZARD_LOWER_RESISTANCE%?)
      - match: (%?WIZARD_LUCK%?)
      - match: (%?WIZARD_MAGIC_MISSILE%?)
      - match: (%?WIZARD_MALAVONS_CORROSIVE_FOG%?)
      - match: (%?WIZARD_MALAVONS_RAGE%?)
      - match: (%?WIZARD_MANTLE%?)
      - match: (%?WIZARD_MASS_INVISIBILITY%?)
      - match: (%?WIZARD_MAZE%?)
      - match: (%?WIZARD_MELF_ACID_ARROW%?)
      - match: (%?WIZARD_MELF_METEOR%?)
      - match: (%?WIZARD_METEOR_SWARM%?)
      - match: (%?WIZARD_MIND_BLANK%?)
      - match: (%?WIZARD_MINOR_GLOBE_OF_INVULNERABILITY%?)
      - match: (%?WIZARD_MINOR_SEQUENCER%?)
      - match: (%?WIZARD_MINOR_SPELL_DEFLECTION%?)
      - match: (%?WIZARD_MINOR_SPELL_TURNING%?)
      - match: (%?WIZARD_MIRROR_IMAGE%?)
      - match: (%?WIZARD_MISLEAD%?)
      - match: (%?WIZARD_MONSTER_SUMMONING_1%?)
      - match: (%?WIZARD_MONSTER_SUMMONING_2%?)
      - match: (%?WIZARD_MONSTER_SUMMONING_3%?)
      - match: (%?WIZARD_MONSTER_SUMMONING_4%?)
      - match: (%?WIZARD_MONSTER_SUMMONING_5%?)
      - match: (%?WIZARD_MONSTER_SUMMONING_6%?)
      - match: (%?WIZARD_MONSTER_SUMMONING_7%?)
      - match: (%?WIZARD_MONSTER_SUMMONING_VI_MALAVON%?)
      - match: (%?WIZARD_MORDENKAINENS_FORCE_MISSILES%?)
      - match: (%?WIZARD_MORDENKAINENS_SWORD%?)
      - match: (%?WIZARD_NAHALS_RECKLESS_DWEOMER%?)
      - match: (%?WIZARD_NON_DETECTION%?)
      - match: (%?WIZARD_NPC_SYMBOL_DEATH%?)
      - match: (%?WIZARD_NPC_SYMBOL_FEAR%?)
      - match: (%?WIZARD_NPC_SYMBOL_STUN%?)
      - match: (%?WIZARD_ORACLE%?)
      - match: (%?WIZARD_OTILUKES_FREEZING_SPHERE%?)
      - match: (%?WIZARD_OTILUKES_RESILIENT_SPHERE%?)
      - match: (%?WIZARD_PFP_OLD%?)
      - match: (%?WIZARD_PHANTOM_BLADE%?)
      - match: (%?WIZARD_PIERCE_MAGIC%?)
      - match: (%?WIZARD_PIERCE_SHIELD%?)
      - match: (%?WIZARD_POLYMORPH_BLACK_BEAR%?)
      - match: (%?WIZARD_POLYMORPH_BORING_BEETLE%?)
      - match: (%?WIZARD_POLYMORPH_BROWN_BEAR%?)
      - match: (%?WIZARD_POLYMORPH_FLIND%?)
      - match: (%?WIZARD_POLYMORPH_MUSTARD_JELLY%?)
      - match: (%?WIZARD_POLYMORPH_NATURAL_FORM%?)
      - match: (%?WIZARD_POLYMORPH_OGRE%?)
      - match: (%?WIZARD_POLYMORPH_OTHER%?)
      - match: (%?WIZARD_POLYMORPH_POLAR_BEAR%?)
      - match: (%?WIZARD_POLYMORPH_SELF%?)
      - match: (%?WIZARD_POLYMORPH_SPIDER%?)
      - match: (%?WIZARD_POLYMORPH_WINTER_WOLF%?)
      - match: (%?WIZARD_POLYMORPH_WOLF%?)
      - match: (%?WIZARD_POWER_WORD_BLIND%?)
      - match: (%?WIZARD_POWER_WORD_KILL%?)
      - match: (%?WIZARD_POWER_WORD_SILENCE%?)
      - match: (%?WIZARD_POWER_WORD_SILENCE_VISUALS_ONLY%?)
      - match: (%?WIZARD_POWER_WORD_SLEEP%?)
      - match: (%?WIZARD_POWER_WORD_STUN%?)
      - match: (%?WIZARD_PRISMATIC_SPRAY%?)
      - match: (%?WIZARD_PROJECT_IMAGE%?)
      - match: (%?WIZARD_PROTECTION_FROM_ACID%?)
      - match: (%?WIZARD_PROTECTION_FROM_COLD%?)
      - match: (%?WIZARD_PROTECTION_FROM_ELECTRICITY%?)
      - match: (%?WIZARD_PROTECTION_FROM_ENERGY%?)
      - match: (%?WIZARD_PROTECTION_FROM_EVIL%?)
      - match: (%?WIZARD_PROTECTION_FROM_FIRE%?)
      - match: (%?WIZARD_PROTECTION_FROM_MAGIC_ENERGY%?)
      - match: (%?WIZARD_PROTECTION_FROM_MAGIC_WEAPONS%?)
      - match: (%?WIZARD_PROTECTION_FROM_NORMAL_MISSILES%?)
      - match: (%?WIZARD_PROTECTION_FROM_NORMAL_WEAPONS%?)
      - match: (%?WIZARD_PROTECTION_FROM_PETRIFICATION%?)
      - match: (%?WIZARD_PROTECTION_FROM_THE_ELEMENTS%?)
      - match: (%?WIZARD_RAY_OF_ENFEEBLEMENT%?)
      - match: (%?WIZARD_REFLECTED_IMAGE%?)
      - match: (%?WIZARD_REMOVE_CURSE%?)
      - match: (%?WIZARD_REMOVE_MAGIC%?)
      - match: (%?WIZARD_RESIST_FEAR%?)
      - match: (%?WIZARD_RUBY_RAY_OF_REVERSAL%?)
      - match: (%?WIZARD_SECRET_WORD%?)
      - match: (%?WIZARD_SEVEN_EYES%?)
      - match: (%?WIZARD_SHADES%?)
      - match: (%?WIZARD_SHADOW_DOOR%?)
      - match: (%?WIZARD_SHADOW_MONSTERS%?)
      - match: (%?WIZARD_SHAPECHANGE%?)
      - match: (%?WIZARD_SHIELD%?)
      - match: (%?WIZARD_SHOCKING_GRASP%?)
      - match: (%?WIZARD_SHOUT%?)
      - match: (%?WIZARD_SHROUD_OF_FLAME%?)
      - match: (%?WIZARD_SIMULACRUM%?)
      - match: (%?WIZARD_SKULL_TRAP%?)
      - match: (%?WIZARD_SLEEP%?)
      - match: (%?WIZARD_SLOW%?)
      - match: (%?WIZARD_SNILLOCS_SNOWBALL_SWARM%?)
      - match: (%?WIZARD_SOUL_EATER%?)
      - match: (%?WIZARD_SPELL_DEFLECTION%?)
      - match: (%?WIZARD_SPELL_IMMUNITY%?)
      - match: (%?WIZARD_SPELL_IMMUNITY_ABJURATION%?)
      - match: (%?WIZARD_SPELL_IMMUNITY_ALTERATION%?)
      - match: (%?WIZARD_SPELL_IMMUNITY_CONJURATION%?)
      - match: (%?WIZARD_SPELL_IMMUNITY_DIVINATION%?)
      - match: (%?WIZARD_SPELL_IMMUNITY_ENCHANTMENT%?)
      - match: (%?WIZARD_SPELL_IMMUNITY_ILLUSIONIST%?)
      - match: (%?WIZARD_SPELL_IMMUNITY_INVOCATION%?)
      - match: (%?WIZARD_SPELL_IMMUNITY_NECROMANCY%?)
      - match: (%?WIZARD_SPELL_SEQUENCER%?)
      - match: (%?WIZARD_SPELL_SHIELD%?)
      - match: (%?WIZARD_SPELL_STRIKE%?)
      - match: (%?WIZARD_SPELL_THRUST%?)
      - match: (%?WIZARD_SPELL_TRAP%?)
      - match: (%?WIZARD_SPELL_TRIGGER%?)
      - match: (%?WIZARD_SPELL_TURNING%?)
      - match: (%?WIZARD_SPHERE_OF_CHAOS%?)
      - match: (%?WIZARD_SPIDER_SPAWN%?)
      - match: (%?WIZARD_SPIRIT_ARMOR%?)
      - match: (%?WIZARD_SPOOK%?)
      - match: (%?WIZARD_STINKING_CLOUD%?)
      - match: (%?WIZARD_STONE_SKIN%?)
      - match: (%?WIZARD_STONE_TO_FLESH%?)
      - match: (%?WIZARD_STRENGTH%?)
      - match: (%?WIZARD_SUFFOCATE%?)
      - match: (%?WIZARD_SUMMON_DJINNI%?)
      - match: (%?WIZARD_SUMMON_EFREET%?)
      - match: (%?WIZARD_SUMMON_FIEND%?)
      - match: (%?WIZARD_SUMMON_HAKEASHAR%?)
      - match: (%?WIZARD_SUMMON_NISHRUU%?)
      - match: (%?WIZARD_SUMMON_PLANATAR_EVIL%?)
      - match: (%?WIZARD_SUMMON_PLANATAR_GOOD%?)
      - match: (%?WIZARD_SUMMON_SHADOW%?)
      - match: (%?WIZARD_SUN_FIRE%?)
      - match: (%?WIZARD_SYMBOL_DEATH%?)
      - match: (%?WIZARD_SYMBOL_FEAR%?)
      - match: (%?WIZARD_SYMBOL_STUN%?)
      - match: (%?WIZARD_TELEPORT_FIELD%?)
      - match: (%?WIZARD_TENSERS_TRANSFORMATION%?)
      - match: (%?WIZARD_TIME_STOP%?)
      - match: (%?WIZARD_TROLLISH_FORTITUDE%?)
      - match: (%?WIZARD_TRUE_DISPEL_MAGIC%?)
      - match: (%?WIZARD_TRUE_SIGHT%?)
      - match: (%?WIZARD_VAMPIRIC_TOUCH%?)
      - match: (%?WIZARD_VITRIOLIC_SPHERE%?)
      - match: (%?WIZARD_VOCALIZE%?)
      - match: (%?WIZARD_WAIL_OF_THE_BANSHEE%?)
      - match: (%?WIZARD_WARDING_WHIP%?)
      - match: (%?WIZARD_WEB%?)
      - match: (%?WIZARD_WISH%?)
      - match: (%?WIZARD_WRAITH_FORM%?)
      - match: (%?WIZARD_WYVERN_CALL%?)
      - match: (%?WOLFWERE_CHANGE%?)
      - match: (%?YELLOW_DRAGON_BREATH%?)
      - match: (%?ZOMBIE_CHANGE%?)
      - match: (%?ZOMBIE_CON_LOSS%?)
      - match: (%?ZOMBIE_LEVEL_DRAIN%?)
      - match: (%?ZOMBIE_SICKNESS%?)
